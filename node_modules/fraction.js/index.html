<!DOCTYPE html>
<html lang="en-US">
<head prefix="og:http://ogp.me/ns#">
  
  
  
  

  <meta charset="UTF-8"/>
  <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <!-- styles -->
  
  <link rel="stylesheet" href="/assets/css/main.css?v=1703557543">
  <link rel="stylesheet" href="/assets/css/syntax.css?v=1703557543">

  <!-- Primary Meta Tags -->
  <title>Fraction.js - ‚Ñö in JavaScript - Liam Cottle&#39;s Blog</title>
  <meta name="title" content="Fraction.js - ‚Ñö in JavaScript - Liam Cottle&#39;s Blog">
  <meta name="description" content="Rambles from a self taught Software Engineer">

  <!-- Favicons -->
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicon/favicon-180x180.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon/favicon-32x32.png">
  <link rel="manifest" href="/assets/site.webmanifest">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://blog.liamcottle.com/node_modules/fraction.js/">
  <meta property="og:title" content="Fraction.js - ‚Ñö in JavaScript - Liam Cottle&#39;s Blog">
  <meta property="og:description" content="Rambles from a self taught Software Engineer">
  <meta property="og:image" content="https://blog.liamcottle.com/assets/images/avatar.jpg">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://blog.liamcottle.com/node_modules/fraction.js/">
  <meta property="twitter:title" content="Fraction.js - ‚Ñö in JavaScript - Liam Cottle&#39;s Blog">
  <meta property="twitter:description" content="Rambles from a self taught Software Engineer">
  <meta property="twitter:image" content="https://blog.liamcottle.com/assets/images/avatar.jpg">

  <!-- theme -->
  <script>

    function prefersDarkTheme() {
      return localStorage.getItem('theme') === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches);
    }

    // set preferred theme (before page loads to avoid flicker)
    if(prefersDarkTheme()){
      document.documentElement.classList.add('dark');
    } else {
      document.documentElement.classList.remove('dark');
    }

  </script>

</head>

<body class="bg-theme">
<div class="flex">
  <div class="mx-auto w-full flex">
    <div class="w-full">
      <nav class="shadow print:shadow-none dark:border-b dark:border-gray-600 print:border-b print:border-gray-200 fixed top-0 left-0 right-0 bg-theme print:absolute">
    <div class="max-w-3xl mx-auto px-6">
        <div class="relative flex justify-between h-16">
            <div class="flex-1 flex items-stretch justify-start">

                <a href="https://blog.liamcottle.com" class="flex-shrink-0 flex items-center font-medium">
                    <img class="rounded-full w-8 h-8 mr-3" src="/assets/images/avatar.jpg">
                    <div>
                        <h1>Liam Cottle's Blog</h1>
                        
                        <h2 class="text-xs text-gray-600">üá≥üáø New Zealand</h2>
                        
                    </div>
                </a>

                <div class="ml-auto flex space-x-2 print:hidden">

                    <button id="theme-toggle" type="button" class="text-gray-500 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300 inline-flex items-center px-1 pt-1 text-sm font-medium">
                        <svg id="theme-toggle-dark-icon" class="w-5 h-5 hidden" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
                        </svg>
                        <svg id="theme-toggle-light-icon" class="w-5 h-5 hidden" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" fill-rule="evenodd" clip-rule="evenodd"></path>
                        </svg>
                    </button>

                    <a href="/feed.xml" class="text-orange-500 hover:text-orange-600 dark:text-gray-400 dark:hover:text-gray-300 inline-flex items-center px-1 pt-1 text-sm font-medium">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M6 5c7.18 0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z" />
                        </svg>
                        <span class="hidden sm:block ml-2">Atom Feed</span>
                    </a>

                </div>

            </div>
        </div>
    </div>
</nav>
      <div class="max-w-3xl mx-auto p-6 mt-16">
        <h1 id="fractionjs---‚Ñö-in-javascript">Fraction.js - ‚Ñö in JavaScript</h1>

<p><a href="https://npmjs.org/package/fraction.js"><img src="https://nodei.co/npm-dl/fraction.js.png?months=6&amp;height=1" alt="NPM Package" /></a></p>

<p><a href="https://travis-ci.org/infusion/Fraction.js"><img src="https://travis-ci.org/infusion/Fraction.js.svg?branch=master" alt="Build Status" /></a>
<a href="http://opensource.org/licenses/MIT"><img src="http://img.shields.io/badge/license-MIT-brightgreen.svg" alt="MIT license" /></a></p>

<p>Tired of inprecise numbers represented by doubles, which have to store rational and irrational numbers like PI or sqrt(2) the same way? Obviously the following problem is preventable:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">1</span> <span class="o">/</span> <span class="mi">98</span> <span class="o">*</span> <span class="mi">98</span> <span class="c1">// = 0.9999999999999999</span>
</code></pre></div></div>

<p>If you need more precision or just want a fraction as a result, have a look at <em>Fraction.js</em>:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">Fraction</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">fraction.js</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">div</span><span class="p">(</span><span class="mi">98</span><span class="p">).</span><span class="nx">mul</span><span class="p">(</span><span class="mi">98</span><span class="p">)</span> <span class="c1">// = 1</span>
</code></pre></div></div>

<p>Internally, numbers are represented as <em>numerator / denominator</em>, which adds just a little overhead. However, the library is written with performance in mind and outperforms any other implementation, as you can see <a href="http://jsperf.com/convert-a-rational-number-to-a-babylonian-fractions/28">here</a>. This basic data-type makes it the perfect basis for <a href="https://github.com/infusion/Polynomial.js">Polynomial.js</a> and <a href="https://github.com/josdejong/mathjs">Math.js</a>.</p>

<h1 id="convert-decimal-to-fraction">Convert decimal to fraction</h1>
<p>The simplest job for fraction.js is to get a fraction out of a decimal:</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Fraction</span><span class="p">(</span><span class="mf">1.88</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">x</span><span class="p">.</span><span class="nx">toFraction</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span> <span class="c1">// String "1 22/25"</span>
</code></pre></div></div>

<h1 id="examples--motivation">Examples / Motivation</h1>
<p>A simple example might be</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">f</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Fraction</span><span class="p">(</span><span class="dl">"</span><span class="s2">9.4'31'</span><span class="dl">"</span><span class="p">);</span> <span class="c1">// 9.4313131313131...</span>
<span class="nx">f</span><span class="p">.</span><span class="nx">mul</span><span class="p">([</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">]).</span><span class="nx">mod</span><span class="p">(</span><span class="dl">"</span><span class="s2">4.'8'</span><span class="dl">"</span><span class="p">);</span> <span class="c1">// 4.88888888888888...</span>
</code></pre></div></div>
<p>The result is</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">toFraction</span><span class="p">());</span> <span class="c1">// -4154 / 1485</span>
</code></pre></div></div>
<p>You could of course also access the sign (s), numerator (n) and denominator (d) on your own:</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">f</span><span class="p">.</span><span class="nx">s</span> <span class="o">*</span> <span class="nx">f</span><span class="p">.</span><span class="nx">n</span> <span class="o">/</span> <span class="nx">f</span><span class="p">.</span><span class="nx">d</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="mi">4154</span> <span class="o">/</span> <span class="mi">1485</span> <span class="o">=</span> <span class="o">-</span><span class="mf">2.797306</span><span class="p">...</span>
</code></pre></div></div>

<p>If you would try to calculate it yourself, you would come up with something like:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="mf">9.4313131</span> <span class="o">*</span> <span class="p">(</span><span class="o">-</span><span class="mi">4</span> <span class="o">/</span> <span class="mi">3</span><span class="p">))</span> <span class="o">%</span> <span class="mf">4.888888</span> <span class="o">=</span> <span class="o">-</span><span class="mf">2.797308133</span><span class="p">...</span>
</code></pre></div></div>

<p>Quite okay, but yea - not as accurate as it could be.</p>

<h1 id="laplace-probability">Laplace Probability</h1>
<p>Simple example. What‚Äôs the probability of throwing a 3, and 1 or 4, and 2 or 4 or 6 with a fair dice?</p>

<p>P({3}):</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Fraction</span><span class="p">([</span><span class="mi">3</span><span class="p">].</span><span class="nx">length</span><span class="p">,</span> <span class="mi">6</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span> <span class="c1">// 0.1(6)</span>
</code></pre></div></div>

<p>P({1, 4}):</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Fraction</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">].</span><span class="nx">length</span><span class="p">,</span> <span class="mi">6</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span> <span class="c1">// 0.(3)</span>
</code></pre></div></div>

<p>P({2, 4, 6}):</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Fraction</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">].</span><span class="nx">length</span><span class="p">,</span> <span class="mi">6</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span> <span class="c1">// 0.5</span>
</code></pre></div></div>

<h1 id="convert-degreesminutesseconds-to-precise-rational-representation">Convert degrees/minutes/seconds to precise rational representation:</h1>

<p>57+45/60+17/3600</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">deg</span> <span class="o">=</span> <span class="mi">57</span><span class="p">;</span> <span class="c1">// 57¬∞</span>
<span class="kd">var</span> <span class="nx">min</span> <span class="o">=</span> <span class="mi">45</span><span class="p">;</span> <span class="c1">// 45 Minutes</span>
<span class="kd">var</span> <span class="nx">sec</span> <span class="o">=</span> <span class="mi">17</span><span class="p">;</span> <span class="c1">// 17 Seconds</span>

<span class="k">new</span> <span class="nx">Fraction</span><span class="p">(</span><span class="nx">deg</span><span class="p">).</span><span class="nx">add</span><span class="p">(</span><span class="nx">min</span><span class="p">,</span> <span class="mi">60</span><span class="p">).</span><span class="nx">add</span><span class="p">(</span><span class="nx">sec</span><span class="p">,</span> <span class="mi">3600</span><span class="p">).</span><span class="nx">toString</span><span class="p">()</span> <span class="c1">// -&gt; 57.7547(2)</span>
</code></pre></div></div>

<h1 id="rounding-a-fraction-to-the-closest-tape-measure-value">Rounding a fraction to the closest tape measure value</h1>

<p>A tape measure is usually divided in parts of <code class="language-plaintext highlighter-rouge">1/16</code>. Rounding a given fraction to the closest value on a tape measure can be determined by</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">closestTapeMeasure</span><span class="p">(</span><span class="nx">frac</span><span class="p">)</span> <span class="p">{</span>

    <span class="cm">/*
    k/16 ‚â§ a/b &lt; (k+1)/16
    ‚áî k ‚â§ 16*a/b &lt; (k+1)
    ‚áî k = floor(16*a/b)
    */</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">Fraction</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="mi">16</span> <span class="o">*</span> <span class="nx">Fraction</span><span class="p">(</span><span class="nx">frac</span><span class="p">).</span><span class="nx">valueOf</span><span class="p">()),</span> <span class="mi">16</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">// closestTapeMeasure("1/3") // 5/16</span>
</code></pre></div></div>

<h1 id="rational-approximation-of-irrational-numbers">Rational approximation of irrational numbers</h1>

<p>Now it‚Äôs getting messy ;d To approximate a number like <em>sqrt(5) - 2</em> with a numerator and denominator, you can reformat the equation as follows: <em>pow(n / d + 2, 2) = 5</em>.</p>

<p>Then the following algorithm will generate the rational number besides the binary representation.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">/</span><span class="dl">"</span><span class="p">,</span> <span class="nx">s</span> <span class="o">=</span> <span class="dl">""</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Fraction</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">n</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">n</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>

  <span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="nx">a</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">b</span><span class="p">).</span><span class="nx">div</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">n</span> <span class="o">+</span> <span class="dl">"</span><span class="se">\t</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">a</span> <span class="o">+</span> <span class="dl">"</span><span class="se">\t</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">b</span> <span class="o">+</span> <span class="dl">"</span><span class="se">\t</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">c</span> <span class="o">+</span> <span class="dl">"</span><span class="se">\t</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">x</span><span class="p">);</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="nx">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">a</span> <span class="o">=</span> <span class="nx">c</span><span class="p">;</span>
    <span class="nx">x</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="nx">c</span><span class="p">;</span>
    <span class="nx">x</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="nx">s</span><span class="o">+=</span> <span class="nx">x</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span>
</code></pre></div></div>

<p>The result is</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>n   a[n]        b[n]        c[n]            x[n]
0   0/1         1/1         1/2             /
1   0/1         1/2         1/4             0
2   0/1         1/4         1/8             0
3   1/8         1/4         3/16            1
4   3/16        1/4         7/32            1
5   7/32        1/4         15/64           1
6   15/64       1/4         31/128          1
7   15/64       31/128      61/256          0
8   15/64       61/256      121/512         0
9   15/64       121/512     241/1024        0
10  241/1024    121/512     483/2048        1
</code></pre></div></div>
<p>Thus the approximation after 11 iterations of the bisection method is <em>483 / 2048</em> and the binary representation is 0.00111100011 (see <a href="http://www.wolframalpha.com/input/?i=sqrt%285%29-2+binary">WolframAlpha</a>)</p>

<p>I published another example on how to approximate PI with fraction.js on my <a href="http://www.xarg.org/2014/03/precise-calculations-in-javascript/">blog</a> (Still not the best idea to approximate irrational numbers, but it illustrates the capabilities of Fraction.js perfectly).</p>

<h2 id="get-the-exact-fractional-part-of-a-number">Get the exact fractional part of a number</h2>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">f</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Fraction</span><span class="p">(</span><span class="dl">"</span><span class="s2">-6.(3416)</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">""</span> <span class="o">+</span> <span class="nx">f</span><span class="p">.</span><span class="nx">mod</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">abs</span><span class="p">());</span> <span class="c1">// Will print 0.(3416)</span>
</code></pre></div></div>

<h2 id="mathematical-correct-modulo">Mathematical correct modulo</h2>
<p>The behaviour on negative congruences is different to most modulo implementations in computer science. Even the <em>mod()</em> function of Fraction.js behaves in the typical way. To solve the problem of having the mathematical correct modulo with Fraction.js you could come up with this:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="mf">10.99</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">new</span> <span class="nx">Fraction</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">mod</span><span class="p">(</span><span class="nx">b</span><span class="p">));</span> <span class="c1">// Not correct, usual Modulo</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">new</span> <span class="nx">Fraction</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">mod</span><span class="p">(</span><span class="nx">b</span><span class="p">).</span><span class="nx">add</span><span class="p">(</span><span class="nx">b</span><span class="p">).</span><span class="nx">mod</span><span class="p">(</span><span class="nx">b</span><span class="p">));</span> <span class="c1">// Correct! Mathematical Modulo</span>
</code></pre></div></div>

<h2 id="fmod-impreciseness-circumvented">fmod() impreciseness circumvented</h2>
<p>It turns out that Fraction.js outperforms almost any fmod() implementation, including JavaScript itself, <a href="http://phpjs.org/functions/fmod/">php.js</a>, C++, Python, Java and even Wolframalpha due to the fact that numbers like 0.05, 0.1, ‚Ä¶ are infinite decimal in base 2.</p>

<p>The equation <em>fmod(4.55, 0.05)</em> gives <em>0.04999999999999957</em>, wolframalpha says <em>1/20</em>. The correct answer should be <strong>zero</strong>, as 0.05 divides 4.55 without any remainder.</p>

<h1 id="parser">Parser</h1>

<p>Any function (see below) as well as the constructor of the <em>Fraction</em> class parses its input and reduce it to the smallest term.</p>

<p>You can pass either Arrays, Objects, Integers, Doubles or Strings.</p>

<h2 id="arrays--objects">Arrays / Objects</h2>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">new</span> <span class="nx">Fraction</span><span class="p">(</span><span class="nx">numerator</span><span class="p">,</span> <span class="nx">denominator</span><span class="p">);</span>
<span class="k">new</span> <span class="nx">Fraction</span><span class="p">([</span><span class="nx">numerator</span><span class="p">,</span> <span class="nx">denominator</span><span class="p">]);</span>
<span class="k">new</span> <span class="nx">Fraction</span><span class="p">({</span><span class="na">n</span><span class="p">:</span> <span class="nx">numerator</span><span class="p">,</span> <span class="na">d</span><span class="p">:</span> <span class="nx">denominator</span><span class="p">});</span>
</code></pre></div></div>

<h2 id="integers">Integers</h2>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">new</span> <span class="nx">Fraction</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
</code></pre></div></div>

<h2 id="doubles">Doubles</h2>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">new</span> <span class="nx">Fraction</span><span class="p">(</span><span class="mf">55.4</span><span class="p">);</span>
</code></pre></div></div>

<p><strong>Note:</strong> If you pass a double as it is, Fraction.js will perform a number analysis based on Farey Sequences. If you concern performance, cache Fraction.js objects and pass arrays/objects.</p>

<p>The method is really precise, but too large exact numbers, like 1234567.9991829 will result in a wrong approximation. If you want to keep the number as it is, convert it to a string, as the string parser will not perform any further observations. If you have problems with the approximation, in the file <code class="language-plaintext highlighter-rouge">examples/approx.js</code> is a different approximation algorithm, which might work better in some more specific use-cases.</p>

<h2 id="strings">Strings</h2>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">new</span> <span class="nx">Fraction</span><span class="p">(</span><span class="dl">"</span><span class="s2">123.45</span><span class="dl">"</span><span class="p">);</span>
<span class="k">new</span> <span class="nx">Fraction</span><span class="p">(</span><span class="dl">"</span><span class="s2">123/45</span><span class="dl">"</span><span class="p">);</span> <span class="c1">// A rational number represented as two decimals, separated by a slash</span>
<span class="k">new</span> <span class="nx">Fraction</span><span class="p">(</span><span class="dl">"</span><span class="s2">123:45</span><span class="dl">"</span><span class="p">);</span> <span class="c1">// A rational number represented as two decimals, separated by a colon</span>
<span class="k">new</span> <span class="nx">Fraction</span><span class="p">(</span><span class="dl">"</span><span class="s2">4 123/45</span><span class="dl">"</span><span class="p">);</span> <span class="c1">// A rational number represented as a whole number and a fraction</span>
<span class="k">new</span> <span class="nx">Fraction</span><span class="p">(</span><span class="dl">"</span><span class="s2">123.'456'</span><span class="dl">"</span><span class="p">);</span> <span class="c1">// Note the quotes, see below!</span>
<span class="k">new</span> <span class="nx">Fraction</span><span class="p">(</span><span class="dl">"</span><span class="s2">123.(456)</span><span class="dl">"</span><span class="p">);</span> <span class="c1">// Note the brackets, see below!</span>
<span class="k">new</span> <span class="nx">Fraction</span><span class="p">(</span><span class="dl">"</span><span class="s2">123.45'6'</span><span class="dl">"</span><span class="p">);</span> <span class="c1">// Note the quotes, see below!</span>
<span class="k">new</span> <span class="nx">Fraction</span><span class="p">(</span><span class="dl">"</span><span class="s2">123.45(6)</span><span class="dl">"</span><span class="p">);</span> <span class="c1">// Note the brackets, see below!</span>
</code></pre></div></div>

<h2 id="two-arguments">Two arguments</h2>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">new</span> <span class="nx">Fraction</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span> <span class="c1">// 3/2 = 1.5</span>
</code></pre></div></div>

<h2 id="repeating-decimal-places">Repeating decimal places</h2>
<p><em>Fraction.js</em> can easily handle repeating decimal places. For example <em>1/3</em> is <em>0.3333‚Ä¶</em>. There is only one repeating digit. As you can see in the examples above, you can pass a number like <em>1/3</em> as ‚Äú0.‚Äô3‚Äô‚Äù or ‚Äú0.(3)‚Äù, which are synonym. There are no tests to parse something like 0.166666666 to 1/6! If you really want to handle this number, wrap around brackets on your own with the function below for example: 0.1(66666666)</p>

<p>Assume you want to divide 123.32 / 33.6(567). <a href="http://www.wolframalpha.com/input/?i=123.32+%2F+%2812453%2F370%29">WolframAlpha</a> states that you‚Äôll get a period of 1776 digits. <em>Fraction.js</em> comes to the same result. Give it a try:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">f</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Fraction</span><span class="p">(</span><span class="dl">"</span><span class="s2">123.32</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Bam: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">f</span><span class="p">.</span><span class="nx">div</span><span class="p">(</span><span class="dl">"</span><span class="s2">33.6(567)</span><span class="dl">"</span><span class="p">));</span>
</code></pre></div></div>

<p>To automatically make a number like ‚Äú0.123123123‚Äù to something more Fraction.js friendly like ‚Äú0.(123)‚Äù, I hacked this little brute force algorithm in a 10 minutes. Improvements are welcome‚Ä¶</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">formatDecimal</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="p">{</span>

  <span class="kd">var</span> <span class="nx">comma</span><span class="p">,</span> <span class="nx">pre</span><span class="p">,</span> <span class="nx">offset</span><span class="p">,</span> <span class="nx">pad</span><span class="p">,</span> <span class="nx">times</span><span class="p">,</span> <span class="nx">repeat</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span> <span class="o">===</span> <span class="p">(</span><span class="nx">comma</span> <span class="o">=</span> <span class="nx">str</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="dl">"</span><span class="s2">.</span><span class="dl">"</span><span class="p">)))</span>
    <span class="k">return</span> <span class="nx">str</span><span class="p">;</span>

  <span class="nx">pre</span> <span class="o">=</span> <span class="nx">str</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">comma</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
  <span class="nx">str</span> <span class="o">=</span> <span class="nx">str</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="nx">comma</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>

  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">str</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">offset</span> <span class="o">=</span> <span class="nx">str</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">i</span><span class="p">);</span>

    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>

      <span class="nx">pad</span> <span class="o">=</span> <span class="nx">str</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>

      <span class="nx">times</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">((</span><span class="nx">str</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="nx">offset</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="o">/</span> <span class="nx">pad</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>

      <span class="nx">repeat</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="nx">times</span> <span class="o">+</span> <span class="mi">1</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="nx">pad</span><span class="p">);</span> <span class="c1">// Silly String.repeat hack</span>

      <span class="k">if</span> <span class="p">(</span><span class="mi">0</span> <span class="o">===</span> <span class="p">(</span><span class="nx">offset</span> <span class="o">+</span> <span class="nx">repeat</span><span class="p">).</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">str</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">pre</span> <span class="o">+</span> <span class="nx">offset</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">(</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">pad</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">)</span><span class="dl">"</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">f</span><span class="p">,</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">formatDecimal</span><span class="p">(</span><span class="dl">"</span><span class="s2">13.0123123123</span><span class="dl">"</span><span class="p">);</span> <span class="c1">// = 13.0(123)</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">f</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Fraction</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h1 id="attributes">Attributes</h1>

<p>The Fraction object allows direct access to the numerator, denominator and sign attributes. It is ensured that only the sign-attribute holds sign information so that a sign comparison is only necessary against this attribute.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">f</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Fraction</span><span class="p">(</span><span class="dl">'</span><span class="s1">-1/2</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">n</span><span class="p">);</span> <span class="c1">// Numerator: 1</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">d</span><span class="p">);</span> <span class="c1">// Denominator: 2</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">s</span><span class="p">);</span> <span class="c1">// Sign: -1</span>
</code></pre></div></div>

<h1 id="functions">Functions</h1>

<h2 id="fraction-abs">Fraction abs()</h2>
<p>Returns the actual number without any sign information</p>

<h2 id="fraction-neg">Fraction neg()</h2>
<p>Returns the actual number with flipped sign in order to get the additive inverse</p>

<h2 id="fraction-addn">Fraction add(n)</h2>
<p>Returns the sum of the actual number and the parameter n</p>

<h2 id="fraction-subn">Fraction sub(n)</h2>
<p>Returns the difference of the actual number and the parameter n</p>

<h2 id="fraction-muln">Fraction mul(n)</h2>
<p>Returns the product of the actual number and the parameter n</p>

<h2 id="fraction-divn">Fraction div(n)</h2>
<p>Returns the quotient of the actual number and the parameter n</p>

<h2 id="fraction-powexp">Fraction pow(exp)</h2>
<p>Returns the power of the actual number, raised to an possible rational exponent. If the result becomes non-rational the function returns <code class="language-plaintext highlighter-rouge">null</code>.</p>

<h2 id="fraction-modn">Fraction mod(n)</h2>
<p>Returns the modulus (rest of the division) of the actual object and n (this % n). It‚Äôs a much more precise <a href="#fmod-impreciseness-circumvented">fmod()</a> if you will. Please note that <em>mod()</em> is just like the modulo operator of most programming languages. If you want a mathematical correct modulo, see <a href="#mathematical-correct-modulo">here</a>.</p>

<h2 id="fraction-mod">Fraction mod()</h2>
<p>Returns the modulus (rest of the division) of the actual object (numerator mod denominator)</p>

<h2 id="fraction-gcdn">Fraction gcd(n)</h2>
<p>Returns the fractional greatest common divisor</p>

<h2 id="fraction-lcmn">Fraction lcm(n)</h2>
<p>Returns the fractional least common multiple</p>

<h2 id="fraction-ceilplaces0-16">Fraction ceil([places=0-16])</h2>
<p>Returns the ceiling of a rational number with Math.ceil</p>

<h2 id="fraction-floorplaces0-16">Fraction floor([places=0-16])</h2>
<p>Returns the floor of a rational number with Math.floor</p>

<h2 id="fraction-roundplaces0-16">Fraction round([places=0-16])</h2>
<p>Returns the rational number rounded with Math.round</p>

<h2 id="fraction-inverse">Fraction inverse()</h2>
<p>Returns the multiplicative inverse of the actual number (n / d becomes d / n) in order to get the reciprocal</p>

<h2 id="fraction-simplifyeps0001">Fraction simplify([eps=0.001])</h2>
<p>Simplifies the rational number under a certain error threshold. Ex. <code class="language-plaintext highlighter-rouge">0.333</code> will be <code class="language-plaintext highlighter-rouge">1/3</code> with <code class="language-plaintext highlighter-rouge">eps=0.001</code></p>

<h2 id="boolean-equalsn">boolean equals(n)</h2>
<p>Check if two numbers are equal</p>

<h2 id="int-comparen">int compare(n)</h2>
<p>Compare two numbers.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>result &lt; 0: n is greater than actual number
result &gt; 0: n is smaller than actual number
result = 0: n is equal to the actual number
</code></pre></div></div>

<h2 id="boolean-divisiblen">boolean divisible(n)</h2>
<p>Check if two numbers are divisible (n divides this)</p>

<h2 id="double-valueof">double valueOf()</h2>
<p>Returns a decimal representation of the fraction</p>

<h2 id="string-tostringdecimalplaces15">String toString([decimalPlaces=15])</h2>
<p>Generates an exact string representation of the actual object. For repeated decimal places all digits are collected within brackets, like <code class="language-plaintext highlighter-rouge">1/3 = "0.(3)"</code>. For all other numbers, up to <code class="language-plaintext highlighter-rouge">decimalPlaces</code> significant digits are collected - which includes trailing zeros if the number is getting truncated. However, <code class="language-plaintext highlighter-rouge">1/2 = "0.5"</code> without trailing zeros of course.</p>

<p><strong>Note:</strong> As <code class="language-plaintext highlighter-rouge">valueOf()</code> and <code class="language-plaintext highlighter-rouge">toString()</code> are provided, <code class="language-plaintext highlighter-rouge">toString()</code> is only called implicitly in a real string context. Using the plus-operator like <code class="language-plaintext highlighter-rouge">"123" + new Fraction</code> will call valueOf(), because JavaScript tries to combine two primitives first and concatenates them later, as string will be the more dominant type. <code class="language-plaintext highlighter-rouge">alert(new Fraction)</code> or <code class="language-plaintext highlighter-rouge">String(new Fraction)</code> on the other hand will do what you expect. If you really want to have control, you should call <code class="language-plaintext highlighter-rouge">toString()</code> or <code class="language-plaintext highlighter-rouge">valueOf()</code> explicitly!</p>

<h2 id="string-tolatexexcludewholefalse">String toLatex(excludeWhole=false)</h2>
<p>Generates an exact LaTeX representation of the actual object. You can see a <a href="http://www.xarg.org/2014/03/precise-calculations-in-javascript/">live demo</a> on my blog.</p>

<p>The optional boolean parameter indicates if you want to exclude the whole part. ‚Äú1 1/3‚Äù instead of ‚Äú4/3‚Äù</p>

<h2 id="string-tofractionexcludewholefalse">String toFraction(excludeWhole=false)</h2>
<p>Gets a string representation of the fraction</p>

<p>The optional boolean parameter indicates if you want to exclude the whole part. ‚Äú1 1/3‚Äù instead of ‚Äú4/3‚Äù</p>

<h2 id="array-tocontinued">Array toContinued()</h2>
<p>Gets an array of the fraction represented as a continued fraction. The first element always contains the whole part.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">f</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Fraction</span><span class="p">(</span><span class="dl">'</span><span class="s1">88/33</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="nx">f</span><span class="p">.</span><span class="nx">toContinued</span><span class="p">();</span> <span class="c1">// [2, 1, 2]</span>
</code></pre></div></div>

<h2 id="fraction-clone">Fraction clone()</h2>
<p>Creates a copy of the actual Fraction object</p>

<h1 id="exceptions">Exceptions</h1>
<p>If a really hard error occurs (parsing error, division by zero), <em>fraction.js</em> throws exceptions! Please make sure you handle them correctly.</p>

<h1 id="installation">Installation</h1>
<p>Installing fraction.js is as easy as cloning this repo or use one of the following commands:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bower install fraction.js
</code></pre></div></div>
<p>or</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install fraction.js
</code></pre></div></div>

<h1 id="using-fractionjs-with-the-browser">Using Fraction.js with the browser</h1>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"fraction.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">Fraction</span><span class="p">(</span><span class="dl">"</span><span class="s2">123/456</span><span class="dl">"</span><span class="p">));</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<h1 id="using-fractionjs-with-requirejs">Using Fraction.js with require.js</h1>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"require.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="nx">requirejs</span><span class="p">([</span><span class="dl">'</span><span class="s1">fraction.js</span><span class="dl">'</span><span class="p">],</span>
<span class="kd">function</span><span class="p">(</span><span class="nx">Fraction</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">Fraction</span><span class="p">(</span><span class="dl">"</span><span class="s2">123/456</span><span class="dl">"</span><span class="p">));</span>
<span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<h1 id="using-fractionjs-with-typescript">Using Fraction.js with TypeScript</h1>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">Fraction</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">fraction.js</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">Fraction</span><span class="p">(</span><span class="dl">"</span><span class="s2">123/456</span><span class="dl">"</span><span class="p">));</span>
</code></pre></div></div>

<h1 id="coding-style">Coding Style</h1>
<p>As every library I publish, fraction.js is also built to be as small as possible after compressing it with Google Closure Compiler in advanced mode. Thus the coding style orientates a little on maxing-out the compression rate. Please make sure you keep this style if you plan to extend the library.</p>

<h1 id="precision">Precision</h1>
<p>Fraction.js tries to circumvent floating point errors, by having an internal representation of numerator and denominator. As it relies on JavaScript, there is also a limit. The biggest number representable is <code class="language-plaintext highlighter-rouge">Number.MAX_SAFE_INTEGER / 1</code> and the smallest is <code class="language-plaintext highlighter-rouge">-1 / Number.MAX_SAFE_INTEGER</code>, with <code class="language-plaintext highlighter-rouge">Number.MAX_SAFE_INTEGER=9007199254740991</code>. If this is not enough, there is <code class="language-plaintext highlighter-rouge">bigfraction.js</code> shipped experimentally, which relies on <code class="language-plaintext highlighter-rouge">BigInt</code> and should become the new Fraction.js eventually.</p>

<h1 id="testing">Testing</h1>
<p>If you plan to enhance the library, make sure you add test cases and all the previous tests are passing. You can test the library with</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm test
</code></pre></div></div>

<h1 id="copyright-and-licensing">Copyright and licensing</h1>
<p>Copyright (c) 2014-2019, <a href="https://www.xarg.org/">Robert Eisele</a>
Dual licensed under the MIT or GPL Version 2 licenses.</p>

      </div>
      <div class="bg-theme border-t border-gray-200 dark:border-gray-600">
    <div class="max-w-3xl flex flex-col mx-auto px-6 py-6">
        <div class="mx-auto print:hidden">

            
            <a href="https://twitter.com/liamcottle" data-toggle="tooltip" data-title="Twitter" class="raise inline-flex items-center p-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-twitter focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-twitter">
                <svg role="img" class="w-4 h-4" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path fill="currentColor" d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                </svg>
            </a>
            

            
            <a href="https://github.com/liamcottle" data-toggle="tooltip" data-title="GitHub" class="raise inline-flex items-center p-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-github focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-github">
                <svg role="img" class="w-4 h-4" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path fill="currentColor" d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/>
                </svg>
            </a>
            

            
            <a href="https://discord.gg/APQSQZNV7t" data-toggle="tooltip" data-title="Discord" class="raise inline-flex items-center p-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-discord focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-discord">
                <svg role="img" class="w-4 h-4" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path fill="currentColor" d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"/>
                </svg>
            </a>
            

            
            <a href="https://www.linkedin.com/in/liamcottle/" data-toggle="tooltip" data-title="LinkedIn" class="raise inline-flex items-center p-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-linkedin focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-linkedin">
                <svg role="img" class="w-4 h-4" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path fill="currentColor" d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                </svg>
            </a>
            

            
            <a href="https://paypal.me/liamcarncottle" data-toggle="tooltip" data-title="PayPal" class="raise inline-flex items-center p-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-paypal focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-paypal">
                <svg role="img" class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 48 48">
                    <path fill="#fff" fill-opacity=".45" d="M16.13 39.115H8.367a1.041 1.041 0 0 1-1.026-1.2l5.234-33.176a1.279 1.279 0 0 1 1.261-1.079h13.335c6.315 0 10.909 4.592 10.8 10.157 3.735 1.95 5.915 5.91 5.234 10.247a12.548 12.548 0 0 1-12.39 10.62H26.89a1.275 1.275 0 0 0-1.261 1.08L23.87 46.9a1.276 1.276 0 0 1-1.262 1.079H15.94a1.04 1.04 0 0 1-1.026-1.199l1.215-7.664v-.002Z"/>
                    <path fill="#fff" fill-opacity=".45" d="M37.973 13.817a11.668 11.668 0 0 0-5.441-1.294H21.414a1.277 1.277 0 0 0-1.261 1.08l-2.098 13.293.006-.035a1.28 1.28 0 0 1 1.256-1.042h6.144a12.553 12.553 0 0 0 12.39-10.62c.071-.457.113-.92.122-1.382Z"/>
                    <path fill="#fff" d="M16.133 39.115H8.368a1.041 1.041 0 0 1-1.026-1.2l5.234-33.176a1.279 1.279 0 0 1 1.261-1.079h13.335c6.315 0 10.909 4.592 10.801 10.157a11.67 11.67 0 0 0-5.441-1.294H21.414a1.277 1.277 0 0 0-1.261 1.08l-2.098 13.293.006-.035-1.928 12.254Z"/>
                </svg>
            </a>
            

            
            <a href="https://liamcottle.com/contact" data-toggle="tooltip" data-title="Email" class="raise inline-flex items-center p-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                </svg>
            </a>
            

        </div>
        <div class="flex flex-col mx-auto text-sm text-center mt-3 text-gray-400">
            <div>This work is licensed under the</div>
            <div class="mb-1">
                 <a class="link" rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0 International License</a>
            </div>
            <div>by <a class="link" rel="license" href="https://liamcottle.com">Liam Cottle</a></div>
        </div>
    </div>
</div>
    </div>
  </div>
</div>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-S3724X6D5M"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-S3724X6D5M');
</script>


<!-- tooltips -->
<script src="https://unpkg.com/@popperjs/core@2"></script>
<script src="https://unpkg.com/tippy.js@6"></script>
<script type="text/javascript">
    tippy('[data-toggle="tooltip"]', {
        content(element) {
            return element.getAttribute('data-title');
        },
    });
</script>

<!-- theme -->
<script type="text/javascript">

    var themeToggleButton = document.getElementById('theme-toggle');
    var themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
    var themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');

    function useLightTheme() {
        document.documentElement.classList.remove('dark');
        themeToggleDarkIcon.classList.remove('hidden');
        themeToggleLightIcon.classList.add('hidden');
        localStorage.setItem('theme', 'light');
    }

    function useDarkTheme() {
        document.documentElement.classList.add('dark');
        themeToggleDarkIcon.classList.add('hidden');
        themeToggleLightIcon.classList.remove('hidden');
        localStorage.setItem('theme', 'dark');
    }

    function toggleTheme() {
        if(prefersDarkTheme()){
            useLightTheme();
        } else {
            useDarkTheme();
        }
    }

    // toggle theme on click
    themeToggleButton.addEventListener('click', function() {
        toggleTheme();
    });

    // set preferred theme (after page loads to update button state)
    if(prefersDarkTheme()){
        useDarkTheme();
    } else {
        useLightTheme();
    }

    /* we want to force light theme when printing */

    var didChangeThemeForPrint = false;

    window.onbeforeprint = function() {
        if(prefersDarkTheme()){
            didChangeThemeForPrint = true;
            useLightTheme();
        }
    };

    window.onafterprint = function() {
        if(didChangeThemeForPrint){
            useDarkTheme();
            didChangeThemeForPrint = false;
        }
    };

</script>
</body>
</html>
