<!DOCTYPE html>
<html lang="en-US">
<head prefix="og:http://ogp.me/ns#">
  
  
  
  

  <meta charset="UTF-8"/>
  <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <!-- styles -->
  
  <link rel="stylesheet" href="/assets/css/main.css?v=1702987460">
  <link rel="stylesheet" href="/assets/css/syntax.css?v=1702987460">

  <!-- Primary Meta Tags -->
  <title>1.1.3 (March 31, 2021) - Liam Cottle&#39;s Blog</title>
  <meta name="title" content="1.1.3 (March 31, 2021) - Liam Cottle&#39;s Blog">
  <meta name="description" content="Rambles from a self taught Software Engineer">

  <!-- Favicons -->
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicon/favicon-180x180.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon/favicon-32x32.png">
  <link rel="manifest" href="/assets/site.webmanifest">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://blog.liamcottle.com/node_modules/css-tree/CHANGELOG">
  <meta property="og:title" content="1.1.3 (March 31, 2021) - Liam Cottle&#39;s Blog">
  <meta property="og:description" content="Rambles from a self taught Software Engineer">
  <meta property="og:image" content="https://blog.liamcottle.com/assets/images/avatar.jpg">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://blog.liamcottle.com/node_modules/css-tree/CHANGELOG">
  <meta property="twitter:title" content="1.1.3 (March 31, 2021) - Liam Cottle&#39;s Blog">
  <meta property="twitter:description" content="Rambles from a self taught Software Engineer">
  <meta property="twitter:image" content="https://blog.liamcottle.com/assets/images/avatar.jpg">

  <!-- theme -->
  <script>

    function prefersDarkTheme() {
      return localStorage.getItem('theme') === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches);
    }

    // set preferred theme (before page loads to avoid flicker)
    if(prefersDarkTheme()){
      document.documentElement.classList.add('dark');
    } else {
      document.documentElement.classList.remove('dark');
    }

  </script>

</head>

<body class="bg-theme">
<div class="flex">
  <div class="mx-auto w-full flex">
    <div class="w-full">
      <nav class="shadow print:shadow-none print:border-b print:border-gray-200">
    <div class="max-w-3xl mx-auto px-6">
        <div class="relative flex justify-between h-16">
            <div class="flex-1 flex items-stretch justify-start">

                <a href="https://blog.liamcottle.com" class="flex-shrink-0 flex items-center font-medium">
                    <img class="rounded-full w-8 h-8 mr-3" src="/assets/images/avatar.jpg">
                    <div>
                        <h1>Liam Cottle's Blog</h1>
                        
                        <h2 class="text-xs text-gray-600">üá≥üáø New Zealand</h2>
                        
                    </div>
                </a>

                <div class="ml-auto flex space-x-2 print:hidden">

                    <button id="theme-toggle" type="button" class="text-gray-500 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300 inline-flex items-center px-1 pt-1 text-sm font-medium">
                        <svg id="theme-toggle-dark-icon" class="w-5 h-5 hidden" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
                        </svg>
                        <svg id="theme-toggle-light-icon" class="w-5 h-5 hidden" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" fill-rule="evenodd" clip-rule="evenodd"></path>
                        </svg>
                    </button>

                    <a href="/feed.xml" class="text-orange-500 hover:text-orange-600 dark:text-gray-400 dark:hover:text-gray-300 inline-flex items-center px-1 pt-1 text-sm font-medium">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M6 5c7.18 0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z" />
                        </svg>
                        <span class="hidden sm:block ml-2">Atom Feed</span>
                    </a>

                </div>

            </div>
        </div>
    </div>
</nav>
      <div class="max-w-3xl mx-auto p-6">
        <h2 id="113-march-31-2021">1.1.3 (March 31, 2021)</h2>

<ul>
  <li>Fixed matching on CSS wide keywords for at-rule‚Äôs prelude and descriptors</li>
  <li>Added <code class="language-plaintext highlighter-rouge">fit-content</code> to <code class="language-plaintext highlighter-rouge">width</code> property patch as browsers are supported it as a keyword (nonstandard), but spec defines it as a function</li>
  <li>Fixed parsing a value contains parentheses or brackets and <code class="language-plaintext highlighter-rouge">parseValue</code> option is set to <code class="language-plaintext highlighter-rouge">false</code>, in that case <code class="language-plaintext highlighter-rouge">!important</code> was included into a value but must not (#155)</li>
</ul>

<h2 id="112-november-26-2020">1.1.2 (November 26, 2020)</h2>

<ul>
  <li>Rolled back to use spread syntax in object literals since it not supported by nodejs &lt; 8.3 (#145)</li>
</ul>

<h2 id="111-november-18-2020">1.1.1 (November 18, 2020)</h2>

<ul>
  <li>Fixed edge cases in mismatch location computation for <code class="language-plaintext highlighter-rouge">SyntaxMatchError</code></li>
</ul>

<h2 id="110-november-17-2020">1.1.0 (November 17, 2020)</h2>

<ul>
  <li>Bumped <code class="language-plaintext highlighter-rouge">mdn-data</code> to 2.0.14</li>
  <li>Extended <code class="language-plaintext highlighter-rouge">fork()</code> method to allow append syntax instead of overriding for <code class="language-plaintext highlighter-rouge">types</code>, <code class="language-plaintext highlighter-rouge">properties</code> and <code class="language-plaintext highlighter-rouge">atrules</code>, e.g. <code class="language-plaintext highlighter-rouge">csstree.fork({ types: { color: '| foo | bar' } })</code></li>
  <li>Extended lexer API for validation
    <ul>
      <li>Added <code class="language-plaintext highlighter-rouge">Lexer#checkAtruleName(atruleName)</code>, <code class="language-plaintext highlighter-rouge">Lexer#checkAtrulePrelude(atruleName, prelude)</code>, <code class="language-plaintext highlighter-rouge">Lexer#checkAtruleDescriptorName(atruleName, descriptorName)</code> and <code class="language-plaintext highlighter-rouge">Lexer#checkPropertyName(propertyName)</code></li>
      <li>Added <code class="language-plaintext highlighter-rouge">Lexer#getAtrule(atruleName, fallbackBasename)</code> method</li>
      <li>Extended <code class="language-plaintext highlighter-rouge">Lexer#getAtrulePrelude()</code> and <code class="language-plaintext highlighter-rouge">Lexer#getProperty()</code> methods to take <code class="language-plaintext highlighter-rouge">fallbackBasename</code> parameter</li>
      <li>Improved <code class="language-plaintext highlighter-rouge">SyntaxMatchError</code> location details</li>
      <li>Changed error messages</li>
    </ul>
  </li>
</ul>

<h2 id="101-november-11-2020">1.0.1 (November 11, 2020)</h2>

<ul>
  <li>Fixed edge cases for parsing of custom property value with a single whitespace when <code class="language-plaintext highlighter-rouge">parseCustomProperty:true</code></li>
</ul>

<h2 id="100-october-27-2020">1.0.0 (October 27, 2020)</h2>

<ul>
  <li>Added <code class="language-plaintext highlighter-rouge">onComment</code> option to parser config</li>
  <li>Added support for <code class="language-plaintext highlighter-rouge">break</code> and <code class="language-plaintext highlighter-rouge">skip</code> values in <code class="language-plaintext highlighter-rouge">walk()</code> to control traversal</li>
  <li>Added <code class="language-plaintext highlighter-rouge">List#reduce()</code> and <code class="language-plaintext highlighter-rouge">List#reduceRight()</code> methods</li>
  <li>Bumped <code class="language-plaintext highlighter-rouge">mdn-data</code> to 2.0.12</li>
  <li>Exposed version of the lib (i.e. <code class="language-plaintext highlighter-rouge">import { version } from 'css-tree'</code>)</li>
  <li>Fixed <code class="language-plaintext highlighter-rouge">Lexer#dump()</code> to dump atrules syntaxes as well</li>
  <li>Fixed matching comma separated <code class="language-plaintext highlighter-rouge">&lt;urange&gt;</code> list (#135)</li>
  <li>Renamed <code class="language-plaintext highlighter-rouge">HexColor</code> node type into <code class="language-plaintext highlighter-rouge">Hash</code></li>
  <li>Removed <code class="language-plaintext highlighter-rouge">element()</code> specific parsing rules</li>
  <li>Removed <code class="language-plaintext highlighter-rouge">dist/default-syntax.json</code> from package</li>
</ul>

<h2 id="100-alpha39-december-5-2019">1.0.0-alpha.39 (December 5, 2019)</h2>

<ul>
  <li>Fixed walker with <code class="language-plaintext highlighter-rouge">visit: "Declaration"</code> to iterate <code class="language-plaintext highlighter-rouge">DeclarationList</code> (#114)</li>
</ul>

<h2 id="100-alpha38-november-25-2019">1.0.0-alpha.38 (November 25, 2019)</h2>

<ul>
  <li>Bumped <code class="language-plaintext highlighter-rouge">mdn-data</code> to <code class="language-plaintext highlighter-rouge">2.0.6</code></li>
  <li>Added initial implmentation for at-rule matching via <code class="language-plaintext highlighter-rouge">Lexer#matchAtrulePrelude()</code> and <code class="language-plaintext highlighter-rouge">Lexer#matchAtruleDescriptor()</code> methods</li>
  <li>Added <code class="language-plaintext highlighter-rouge">-moz-control-character-visibility</code>, <code class="language-plaintext highlighter-rouge">-ms-grid-columns</code>, <code class="language-plaintext highlighter-rouge">-ms-grid-rows</code> and <code class="language-plaintext highlighter-rouge">-ms-hyphenate-limit-last</code> properties to patch (#111)</li>
  <li>Added <code class="language-plaintext highlighter-rouge">flow</code>, <code class="language-plaintext highlighter-rouge">flow-root</code> and <code class="language-plaintext highlighter-rouge">table-caption</code> values to patched <code class="language-plaintext highlighter-rouge">display</code> (#112)</li>
</ul>

<h2 id="100-alpha37-october-22-2019">1.0.0-alpha.37 (October 22, 2019)</h2>

<ul>
  <li>Bumped <code class="language-plaintext highlighter-rouge">source-map</code> version to <code class="language-plaintext highlighter-rouge">^0.6.1</code> to fix source map generation inconsistency across node.js versions due to mappings sorting bug and v8 moving to <a href="https://v8.dev/blog/array-sort">a stable Array#sort</a> (<a href="https://github.com/mozilla/source-map/commit/f35a2e4212dd025cb5e1fc219e7ac8a4b96c2cc9">fix commit</a> in <code class="language-plaintext highlighter-rouge">source-map</code>)</li>
</ul>

<h2 id="100-alpha36-october-13-2019">1.0.0-alpha.36 (October 13, 2019)</h2>

<ul>
  <li>Dropped support for Node &lt; 8</li>
  <li>Updated dev deps (fixed <code class="language-plaintext highlighter-rouge">npm audit</code> issues)</li>
  <li>Reworked build pipeline
    <ul>
      <li>Package provides <code class="language-plaintext highlighter-rouge">dist/csstree.js</code> and <code class="language-plaintext highlighter-rouge">dist/csstree.min.js</code> now (instead of single <code class="language-plaintext highlighter-rouge">dist/csstree.js</code> that was a min version)</li>
      <li>Bundle size (min version) reduced from 191Kb to 158Kb due to some optimisations</li>
    </ul>
  </li>
  <li>Definition syntax
    <ul>
      <li>Renamed <code class="language-plaintext highlighter-rouge">grammar</code> into <code class="language-plaintext highlighter-rouge">definitionSyntax</code> (named per spec)</li>
      <li>Added <code class="language-plaintext highlighter-rouge">compact</code> option to <code class="language-plaintext highlighter-rouge">generate()</code> method to avoid formatting (spaces) when possible</li>
    </ul>
  </li>
  <li>Lexer
    <ul>
      <li>Changed <code class="language-plaintext highlighter-rouge">dump()</code> method to produce syntaxes in compact form by default</li>
    </ul>
  </li>
</ul>

<h2 id="100-alpha35-october-7-2019">1.0.0-alpha.35 (October 7, 2019)</h2>

<ul>
  <li>Walker
    <ul>
      <li>Changed implementation to avoid runtime compilation due to CSP issues (see #91, #109)</li>
      <li>Added <code class="language-plaintext highlighter-rouge">find()</code>, <code class="language-plaintext highlighter-rouge">findLast()</code> and <code class="language-plaintext highlighter-rouge">findAll()</code> methods (e.g. <code class="language-plaintext highlighter-rouge">csstree.find(ast, node =&gt; node.type === 'ClassSelector')</code>)</li>
    </ul>
  </li>
</ul>

<h2 id="100-alpha34-july-27-2019">1.0.0-alpha.34 (July 27, 2019)</h2>

<ul>
  <li>Tokenizer
    <ul>
      <li>Added <code class="language-plaintext highlighter-rouge">isBOM()</code> function</li>
      <li>Added <code class="language-plaintext highlighter-rouge">charCodeCategory()</code> function</li>
      <li>Removed <code class="language-plaintext highlighter-rouge">firstCharOffset()</code> function (use <code class="language-plaintext highlighter-rouge">isBOM()</code> instead)</li>
      <li>Removed <code class="language-plaintext highlighter-rouge">CHARCODE</code> dictionary</li>
      <li>Removed <code class="language-plaintext highlighter-rouge">INPUT_STREAM_CODE*</code> dictionaries</li>
    </ul>
  </li>
  <li>Lexer
    <ul>
      <li>Allowed comments in matching value (just ignore them like whitespaces)</li>
      <li>Increased iteration count in value matching from 10k up to 15k</li>
      <li>Fixed missed <code class="language-plaintext highlighter-rouge">debugger</code> (#104)</li>
    </ul>
  </li>
</ul>

<h2 id="100-alpha33-july-11-2019">1.0.0-alpha.33 (July 11, 2019)</h2>

<ul>
  <li>Lexer
    <ul>
      <li>Fixed low priority productions matching by changing an approach for robust one (#103)</li>
    </ul>
  </li>
</ul>

<h2 id="100-alpha32-july-11-2019">1.0.0-alpha.32 (July 11, 2019)</h2>

<ul>
  <li>Lexer
    <ul>
      <li>Fixed low priority productions matching in long <code class="language-plaintext highlighter-rouge">||-</code> and <code class="language-plaintext highlighter-rouge">&amp;&amp;-</code> groups (#103)</li>
    </ul>
  </li>
</ul>

<h2 id="100-alpha31-july-11-2019">1.0.0-alpha.31 (July 11, 2019)</h2>

<ul>
  <li>Bumped <code class="language-plaintext highlighter-rouge">mdn/data</code> to <code class="language-plaintext highlighter-rouge">2.0.4</code> (#99)</li>
  <li>Lexer
    <ul>
      <li>Added <a href="https://drafts.csswg.org/css-values-4/#numeric-ranges">bracketed range notation</a> support and related refactoring</li>
      <li>Removed <code class="language-plaintext highlighter-rouge">&lt;number-zero-one&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;number-one-or-greater&gt;</code> and <code class="language-plaintext highlighter-rouge">&lt;positive-integer&gt;</code> from generic types. In fact, types moved to patch, because those types can be expressed in a regular grammar due to bracketed range notation implemented</li>
      <li>Added support for multiple token string matching</li>
      <li>Improved <code class="language-plaintext highlighter-rouge">&lt;custom-ident&gt;</code> production matching to claim the keyword only if no other unfulfilled production can claim it (#101)</li>
      <li>Improved <code class="language-plaintext highlighter-rouge">&lt;length&gt;</code> production matching to claim ‚Äúunitless zero‚Äù only if no other unfulfilled production can claim it</li>
      <li>Changed lexer‚Äôs constructor to prevent generic types override when used</li>
      <li>Fixed large <code class="language-plaintext highlighter-rouge">||</code>- and <code class="language-plaintext highlighter-rouge">&amp;&amp;</code>-group matching, matching continues from the beginning on term match (#85)</li>
      <li>Fixed checking that value has <code class="language-plaintext highlighter-rouge">var()</code> occurrences when value is a string (such values can‚Äôt be matched on syntax currently and fail with specific error that can be used for ignorance in validation tools)</li>
      <li>Fixed <code class="language-plaintext highlighter-rouge">&lt;declaration-value&gt;</code> and <code class="language-plaintext highlighter-rouge">&lt;any-value&gt;</code> matching when a value contains a function, parentheses or braces</li>
    </ul>
  </li>
</ul>

<h2 id="100-alpha30-july-3-2019">1.0.0-alpha.30 (July 3, 2019)</h2>

<ul>
  <li>Bumped <code class="language-plaintext highlighter-rouge">mdn/data</code> to <code class="language-plaintext highlighter-rouge">~2.0.3</code>
    <ul>
      <li>Removed type removals from <code class="language-plaintext highlighter-rouge">mdn/data</code> due to lack of some generic types and specific lexer restictions (since lexer was reworked, see below)</li>
      <li>Reduced and updated patches</li>
    </ul>
  </li>
  <li>Tokenizer
    <ul>
      <li>Reworked tokenizer itself to compliment <a href="https://drafts.csswg.org/css-syntax/#tokenization">CSS Syntax Module Level 3</a></li>
      <li><code class="language-plaintext highlighter-rouge">Tokenizer</code> class splitted into several abstractions:
        <ul>
          <li>Added <code class="language-plaintext highlighter-rouge">TokenStream</code> class</li>
          <li>Added <code class="language-plaintext highlighter-rouge">OffsetToLocation</code> class</li>
          <li>Added <code class="language-plaintext highlighter-rouge">tokenize()</code> function that creates <code class="language-plaintext highlighter-rouge">TokenStream</code> instance for given string or updates a <code class="language-plaintext highlighter-rouge">TokenStream</code> instance passed as second parameter</li>
          <li>Removed <code class="language-plaintext highlighter-rouge">Tokenizer</code> class</li>
        </ul>
      </li>
      <li>Removed <code class="language-plaintext highlighter-rouge">Raw</code> token type</li>
      <li>Renamed <code class="language-plaintext highlighter-rouge">Identifier</code> token type to <code class="language-plaintext highlighter-rouge">Ident</code></li>
      <li>Added token types: <code class="language-plaintext highlighter-rouge">Hash</code>, <code class="language-plaintext highlighter-rouge">BadString</code>, <code class="language-plaintext highlighter-rouge">BadUrl</code>, <code class="language-plaintext highlighter-rouge">Delim</code>, <code class="language-plaintext highlighter-rouge">Percentage</code>, <code class="language-plaintext highlighter-rouge">Dimension</code>, <code class="language-plaintext highlighter-rouge">Colon</code>, <code class="language-plaintext highlighter-rouge">Semicolon</code>, <code class="language-plaintext highlighter-rouge">Comma</code>, <code class="language-plaintext highlighter-rouge">LeftSquareBracket</code>, <code class="language-plaintext highlighter-rouge">RightSquareBracket</code>, <code class="language-plaintext highlighter-rouge">LeftParenthesis</code>, <code class="language-plaintext highlighter-rouge">RightParenthesis</code>, <code class="language-plaintext highlighter-rouge">LeftCurlyBracket</code>, <code class="language-plaintext highlighter-rouge">RightCurlyBracket</code></li>
      <li>Replaced <code class="language-plaintext highlighter-rouge">Punctuator</code> with <code class="language-plaintext highlighter-rouge">Delim</code> token type, that excludes specific characters with its own token type like <code class="language-plaintext highlighter-rouge">Colon</code>, <code class="language-plaintext highlighter-rouge">Semicolon</code> etc</li>
      <li>Removed <code class="language-plaintext highlighter-rouge">findCommentEnd</code>, <code class="language-plaintext highlighter-rouge">findStringEnd</code>, <code class="language-plaintext highlighter-rouge">findDecimalNumberEnd</code>, <code class="language-plaintext highlighter-rouge">findNumberEnd</code>, <code class="language-plaintext highlighter-rouge">findEscapeEnd</code>, <code class="language-plaintext highlighter-rouge">findIdentifierEnd</code> and <code class="language-plaintext highlighter-rouge">findUrlRawEnd</code> helper function</li>
      <li>Removed <code class="language-plaintext highlighter-rouge">SYMBOL_TYPE</code>, <code class="language-plaintext highlighter-rouge">PUNCTUATION</code> and <code class="language-plaintext highlighter-rouge">STOP_URL_RAW</code> dictionaries</li>
      <li>Added <code class="language-plaintext highlighter-rouge">isDigit</code>, <code class="language-plaintext highlighter-rouge">isHexDigit</code>, <code class="language-plaintext highlighter-rouge">isUppercaseLetter</code>, <code class="language-plaintext highlighter-rouge">isLowercaseLetter</code>, <code class="language-plaintext highlighter-rouge">isLetter</code>, <code class="language-plaintext highlighter-rouge">isNonAscii</code>, <code class="language-plaintext highlighter-rouge">isNameStart</code>, <code class="language-plaintext highlighter-rouge">isName</code>, <code class="language-plaintext highlighter-rouge">isNonPrintable</code>, <code class="language-plaintext highlighter-rouge">isNewline</code>, <code class="language-plaintext highlighter-rouge">isWhiteSpace</code>, <code class="language-plaintext highlighter-rouge">isValidEscape</code>, <code class="language-plaintext highlighter-rouge">isIdentifierStart</code>, <code class="language-plaintext highlighter-rouge">isNumberStart</code>, <code class="language-plaintext highlighter-rouge">consumeEscaped</code>, <code class="language-plaintext highlighter-rouge">consumeName</code>, <code class="language-plaintext highlighter-rouge">consumeNumber</code> and <code class="language-plaintext highlighter-rouge">consumeBadUrlRemnants</code> helper functions</li>
    </ul>
  </li>
  <li>Parser
    <ul>
      <li>Changed parsing algorithms to work with new token type set</li>
      <li>Changed <code class="language-plaintext highlighter-rouge">HexColor</code> consumption in way to relax checking a value, i.e. now <code class="language-plaintext highlighter-rouge">value</code> is a sequence of one or more name chars</li>
      <li>Added <code class="language-plaintext highlighter-rouge">&amp;</code> as a property hack</li>
      <li>Relaxed <code class="language-plaintext highlighter-rouge">var()</code> parsing to only check that a first arguments is an identifier (not a custom property name as before)</li>
    </ul>
  </li>
  <li>Lexer
    <ul>
      <li>Reworked syntax matching to relay on token set only (having AST is optional now)</li>
      <li>Extended <code class="language-plaintext highlighter-rouge">Lexer#match()</code>, <code class="language-plaintext highlighter-rouge">Lexer#matchType()</code> and <code class="language-plaintext highlighter-rouge">Lexer#matchProperty()</code> methods to take a string as value, beside AST as a value</li>
      <li>Extended <code class="language-plaintext highlighter-rouge">Lexer#match()</code> method to take a string as a syntax, beside of syntax descriptor</li>
      <li>Reworked generic types:
        <ul>
          <li>Removed <code class="language-plaintext highlighter-rouge">&lt;attr()&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;url&gt;</code> (moved to patch) and <code class="language-plaintext highlighter-rouge">&lt;progid&gt;</code> types</li>
          <li>Added types:
            <ul>
              <li>Related to token types: <code class="language-plaintext highlighter-rouge">&lt;ident-token&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;function-token&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;at-keyword-token&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;hash-token&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;string-token&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;bad-string-token&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;url-token&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;bad-url-token&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;delim-token&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;number-token&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;percentage-token&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;dimension-token&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;whitespace-token&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;CDO-token&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;CDC-token&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;colon-token&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;semicolon-token&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;comma-token&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;[-token&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;]-token&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;(-token&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;)-token&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;{-token&gt;</code> and <code class="language-plaintext highlighter-rouge">&lt;}-token&gt;</code></li>
              <li>Complex types: <code class="language-plaintext highlighter-rouge">&lt;an-plus-b&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;urange&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;custom-property-name&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;declaration-value&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;any-value&gt;</code> and <code class="language-plaintext highlighter-rouge">&lt;zero&gt;</code></li>
            </ul>
          </li>
          <li>Renamed <code class="language-plaintext highlighter-rouge">&lt;unicode-range&gt;</code> to <code class="language-plaintext highlighter-rouge">&lt;urange&gt;</code> as per spec</li>
          <li>Renamed <code class="language-plaintext highlighter-rouge">&lt;expression&gt;</code> (IE legacy extension) to <code class="language-plaintext highlighter-rouge">&lt;-ms-legacy-expression&gt;</code> and may to be removed in next releases</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h2 id="100-alpha29-may-30-2018">1.0.0-alpha.29 (May 30, 2018)</h2>

<ul>
  <li>Lexer
    <ul>
      <li>Syntax matching was completely reworked. Now it‚Äôs token-based and uses state machine. Public API has not changed. However, some internal data structures have changed. Most significal change in syntax match result tree structure, it‚Äôs became token-based instead of node-based.</li>
      <li>Grammar
        <ul>
          <li>Changed grammar tree format:
            <ul>
              <li>Added <code class="language-plaintext highlighter-rouge">Token</code> node type to represent a single code point (<code class="language-plaintext highlighter-rouge">&lt;delim-token&gt;</code>)</li>
              <li>Added <code class="language-plaintext highlighter-rouge">Multiplier</code> that wraps a single node (<code class="language-plaintext highlighter-rouge">term</code> property)</li>
              <li>Added <code class="language-plaintext highlighter-rouge">AtKeyword</code> to represent <code class="language-plaintext highlighter-rouge">&lt;at-keyword-token&gt;</code></li>
              <li>Removed <code class="language-plaintext highlighter-rouge">Slash</code> and <code class="language-plaintext highlighter-rouge">Percent</code> node types, they are replaced for a node with <code class="language-plaintext highlighter-rouge">Token</code> type</li>
              <li>Changed <code class="language-plaintext highlighter-rouge">Function</code> to represent <code class="language-plaintext highlighter-rouge">&lt;function-token&gt;</code> with no children</li>
              <li>Removed <code class="language-plaintext highlighter-rouge">multiplier</code> property from <code class="language-plaintext highlighter-rouge">Group</code></li>
            </ul>
          </li>
          <li>Changed <code class="language-plaintext highlighter-rouge">generate()</code> method:
            <ul>
              <li>Method takes an <code class="language-plaintext highlighter-rouge">options</code> as second argument now (<code class="language-plaintext highlighter-rouge">generate(node, forceBraces, decorator)</code> -&gt; <code class="language-plaintext highlighter-rouge">generate(node, options)</code>). Two options are supported: <code class="language-plaintext highlighter-rouge">forceBraces</code> and <code class="language-plaintext highlighter-rouge">decorator</code></li>
              <li>When a second parameter is a function it treats as <code class="language-plaintext highlighter-rouge">decorate</code> option value, i.e. <code class="language-plaintext highlighter-rouge">generate(node, fn)</code> -&gt; <code class="language-plaintext highlighter-rouge">generate(node, { decorate: fn })</code></li>
              <li>Decorate function invokes with additional parameter ‚Äì a reference to a node</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Tokenizer
    <ul>
      <li>Renamed <code class="language-plaintext highlighter-rouge">Atrule</code> const to <code class="language-plaintext highlighter-rouge">AtKeyword</code></li>
    </ul>
  </li>
</ul>

<h2 id="100-alpha28-february-19-2018">1.0.0-alpha.28 (February 19, 2018)</h2>

<ul>
  <li>Renamed <code class="language-plaintext highlighter-rouge">lexer.grammar.translate()</code> method into <code class="language-plaintext highlighter-rouge">generate()</code></li>
  <li>Fixed <code class="language-plaintext highlighter-rouge">&lt;'-webkit-font-smoothing'&gt;</code> and <code class="language-plaintext highlighter-rouge">&lt;'-moz-osx-font-smoothing'&gt;</code> syntaxes (#75)</li>
  <li>Added vendor keywords for <code class="language-plaintext highlighter-rouge">&lt;'overflow'&gt;</code> property syntax (#76)</li>
  <li>Pinned <code class="language-plaintext highlighter-rouge">mdn-data</code> to <code class="language-plaintext highlighter-rouge">~1.1.0</code> and fixed issues with some updated property syntaxes</li>
</ul>

<h2 id="100-alpha27-january-14-2018">1.0.0-alpha.27 (January 14, 2018)</h2>

<ul>
  <li>Generator
    <ul>
      <li>Changed node‚Äôs <code class="language-plaintext highlighter-rouge">generate()</code> methods invocation, methods now take a node as a single argument and context (i.e. <code class="language-plaintext highlighter-rouge">this</code>) that have methods: <code class="language-plaintext highlighter-rouge">chunk()</code>, <code class="language-plaintext highlighter-rouge">node()</code> and <code class="language-plaintext highlighter-rouge">children()</code></li>
      <li>Renamed <code class="language-plaintext highlighter-rouge">translate()</code> to <code class="language-plaintext highlighter-rouge">generate()</code> and changed to take <code class="language-plaintext highlighter-rouge">options</code> argument</li>
      <li>Removed <code class="language-plaintext highlighter-rouge">translateMarkup(ast, enter, leave)</code> method, use <code class="language-plaintext highlighter-rouge">generate(ast, { decorator: (handlers) =&gt; { ... }})</code> instead</li>
      <li>Removed <code class="language-plaintext highlighter-rouge">translateWithSourceMap(ast)</code>, use <code class="language-plaintext highlighter-rouge">generate(ast, { sourceMap: true })</code> instead</li>
      <li>Changed to support for children as an array</li>
    </ul>
  </li>
  <li>Walker
    <ul>
      <li>Changed <code class="language-plaintext highlighter-rouge">walk()</code> to take an <code class="language-plaintext highlighter-rouge">options</code> argument instead of handler, with <code class="language-plaintext highlighter-rouge">enter</code>, <code class="language-plaintext highlighter-rouge">leave</code>, <code class="language-plaintext highlighter-rouge">visit</code> and <code class="language-plaintext highlighter-rouge">reverse</code> options (<code class="language-plaintext highlighter-rouge">walk(ast, fn)</code> is still works and equivalent to <code class="language-plaintext highlighter-rouge">walk(ast, { enter: fn })</code>)</li>
      <li>Removed <code class="language-plaintext highlighter-rouge">walkUp(ast, fn)</code>, use <code class="language-plaintext highlighter-rouge">walk(ast, { leave: fn })</code></li>
      <li>Removed <code class="language-plaintext highlighter-rouge">walkRules(ast, fn)</code>, use <code class="language-plaintext highlighter-rouge">walk(ast, { visit: 'Rule', enter: fn })</code> instead</li>
      <li>Removed <code class="language-plaintext highlighter-rouge">walkRulesRight(ast, fn)</code>, use <code class="language-plaintext highlighter-rouge">walk(ast, { visit: 'Rule', reverse: true, enter: fn })</code> instead</li>
      <li>Removed <code class="language-plaintext highlighter-rouge">walkDeclarations(ast, fn)</code>, use <code class="language-plaintext highlighter-rouge">walk(ast, { visit: 'Declaration', enter: fn })</code> instead</li>
      <li>Changed to support for children as array in most cases (<code class="language-plaintext highlighter-rouge">reverse: true</code> will fail on arrays since they have no <code class="language-plaintext highlighter-rouge">forEachRight()</code> method)</li>
    </ul>
  </li>
  <li>Misc
    <ul>
      <li>List
        <ul>
          <li>Added <code class="language-plaintext highlighter-rouge">List#forEach()</code> method</li>
          <li>Added <code class="language-plaintext highlighter-rouge">List#forEachRight()</code> method</li>
          <li>Added <code class="language-plaintext highlighter-rouge">List#filter()</code> method</li>
          <li>Changed <code class="language-plaintext highlighter-rouge">List#map()</code> method to return a <code class="language-plaintext highlighter-rouge">List</code> instance instead of <code class="language-plaintext highlighter-rouge">Array</code></li>
          <li>Added <code class="language-plaintext highlighter-rouge">List#push()</code> method, similar to <code class="language-plaintext highlighter-rouge">List#appendData()</code> but returns nothing</li>
          <li>Added <code class="language-plaintext highlighter-rouge">List#pop()</code> method</li>
          <li>Added <code class="language-plaintext highlighter-rouge">List#unshift()</code> method, similar to <code class="language-plaintext highlighter-rouge">List#prependData()</code> but returns nothing</li>
          <li>Added <code class="language-plaintext highlighter-rouge">List#shift()</code> method</li>
          <li>Added <code class="language-plaintext highlighter-rouge">List#prependList()</code> method</li>
          <li>Changed <code class="language-plaintext highlighter-rouge">List#insert()</code>, <code class="language-plaintext highlighter-rouge">List#insertData()</code>, <code class="language-plaintext highlighter-rouge">List#appendList()</code> and <code class="language-plaintext highlighter-rouge">List#insertList()</code> methods to return a list that performed an operation</li>
        </ul>
      </li>
      <li>Changed <code class="language-plaintext highlighter-rouge">keyword()</code> method
        <ul>
          <li>Changed <code class="language-plaintext highlighter-rouge">name</code> field to include a vendor prefix</li>
          <li>Added <code class="language-plaintext highlighter-rouge">basename</code> field to contain a name without a vendor prefix</li>
          <li>Added <code class="language-plaintext highlighter-rouge">custom</code> field that contain a <code class="language-plaintext highlighter-rouge">true</code> when keyword is a custom property reference</li>
        </ul>
      </li>
      <li>Changed <code class="language-plaintext highlighter-rouge">property()</code> method
        <ul>
          <li>Changed <code class="language-plaintext highlighter-rouge">name</code> field to include a vendor prefix</li>
          <li>Added <code class="language-plaintext highlighter-rouge">basename</code> field to contain a name without any prefixes, i.e. a hack and a vendor prefix</li>
        </ul>
      </li>
      <li>Added <code class="language-plaintext highlighter-rouge">vendorPrefix()</code> method</li>
      <li>Added <code class="language-plaintext highlighter-rouge">isCustomProperty()</code> method</li>
    </ul>
  </li>
</ul>

<h2 id="100-alpha26-november-9-2017">1.0.0-alpha.26 (November 9, 2017)</h2>

<ul>
  <li>Tokenizer
    <ul>
      <li>Added <code class="language-plaintext highlighter-rouge">Tokenizer#isBalanceEdge()</code> method</li>
      <li>Removed <code class="language-plaintext highlighter-rouge">Tokenizer.endsWith()</code> method</li>
    </ul>
  </li>
  <li>Parser
    <ul>
      <li>Made the parser tolerant to errors by default</li>
      <li>Removed <code class="language-plaintext highlighter-rouge">tolerant</code> parser option (no parsing modes anymore)</li>
      <li>Removed <code class="language-plaintext highlighter-rouge">property</code> parser option (a value parsing does not depend on property name anymore)</li>
      <li>Canceled error for a handing semicolon in a block</li>
      <li>Canceled error for unclosed <code class="language-plaintext highlighter-rouge">Brackets</code>, <code class="language-plaintext highlighter-rouge">Function</code> and <code class="language-plaintext highlighter-rouge">Parentheses</code> when EOF is reached</li>
      <li>Fixed error when prelude ends with a comment for at-rules with custom prelude consumer</li>
      <li>Relaxed at-rule parsing:
        <ul>
          <li>Canceled error when EOF is reached after a prelude</li>
          <li>Canceled error for an at-rule with custom block consumer when at-rule has no block (just don‚Äôt apply consumer in that case)</li>
          <li>Canceled error on at-rule parsing when it occurs outside prelude or block (at-rule is converting to <code class="language-plaintext highlighter-rouge">Raw</code> node)</li>
          <li>Allowed for any at-rule to have a prelude and a block, even if it‚Äôs invalid per at-rule syntax (the responsibility for this check is moved to lexer, since it‚Äôs possible to construct a AST with such errors)</li>
        </ul>
      </li>
      <li>Made a declaration value a safe parsing point (i.e. error on value parsing lead to a value is turning into <code class="language-plaintext highlighter-rouge">Raw</code> node, not a declaration as before)</li>
      <li>Excluded surrounding white spaces and comments from a <code class="language-plaintext highlighter-rouge">Raw</code> node that represents a declaration value</li>
      <li>Changed <code class="language-plaintext highlighter-rouge">Value</code> parse handler to return a node only with type <code class="language-plaintext highlighter-rouge">Value</code> (previously it returned a <code class="language-plaintext highlighter-rouge">Raw</code> node in some cases)</li>
      <li>Fixed issue with <code class="language-plaintext highlighter-rouge">onParseError()</code> is not invoked for errors occured on selector or declaration value parsing in some cases</li>
      <li>Changed using of <code class="language-plaintext highlighter-rouge">onParseError()</code> to stop parsing if handler throws an exception</li>
    </ul>
  </li>
  <li>Lexer
    <ul>
      <li>Changed <code class="language-plaintext highlighter-rouge">grammar.walk()</code> to invoke passed handler on entering to node rather than on leaving the node</li>
      <li>Improved <code class="language-plaintext highlighter-rouge">grammar.walk()</code> to take a walk handler pair as an object, i.e. <code class="language-plaintext highlighter-rouge">walk(node, { enter: fn, leave: fn })</code></li>
      <li>Changed <code class="language-plaintext highlighter-rouge">Lexer#match*()</code> methods to take a node of any type, but with a <code class="language-plaintext highlighter-rouge">children</code> field</li>
      <li>Added <code class="language-plaintext highlighter-rouge">Lexer#match(syntax, node)</code> method</li>
      <li>Fixed <code class="language-plaintext highlighter-rouge">Lexer#matchType()</code> method to stop return a positive result for the CSS wide keywords</li>
    </ul>
  </li>
</ul>

<h2 id="100-alpha25-october-9-2017">1.0.0-alpha25 (October 9, 2017)</h2>

<ul>
  <li>Parser
    <ul>
      <li>Added fallback node as argument to <code class="language-plaintext highlighter-rouge">onParseError()</code> handler</li>
      <li>Fixed raw consuming in tolerant mode when selector is invalid (greedy consuming and redundant warnings)</li>
      <li>Fixed exception in tolerant mode caused by unknown at-rule with unclosed block</li>
      <li>Changed handling of semicolons:
        <ul>
          <li>Hanging semicolon inside declaration blocks raise an error or turns into a <code class="language-plaintext highlighter-rouge">Raw</code> node in tolerant mode instead of being ignored</li>
          <li>Semicolon outside of declaration blocks opens a <code class="language-plaintext highlighter-rouge">Rule</code> node as part of selector instead of being ignored</li>
        </ul>
      </li>
      <li>Aligned <code class="language-plaintext highlighter-rouge">parseAtrulePrelude</code> behaviour to <code class="language-plaintext highlighter-rouge">parseRulePrelude</code>
        <ul>
          <li>Removed <code class="language-plaintext highlighter-rouge">Raw</code> node wraping into <code class="language-plaintext highlighter-rouge">AtrulePrelude</code> when <code class="language-plaintext highlighter-rouge">parseAtrulePrelude</code> is disabled</li>
          <li>Removed error emitting when at-rule has a custom prelude customer but no prelude is found (it should be validated by a lexer later)</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Generator
    <ul>
      <li>Fixed performance issue with <code class="language-plaintext highlighter-rouge">translateWithSourceMap()</code>, flattening the string (because of mixing building string and indexing into it) turned it into a quadratic algorithm (approximate numbers can be found in <a href="https://gist.github.com/lahmatiy/ea25d0e623d88ca9848384b5707d52d9">the quiz created by this case</a>)</li>
    </ul>
  </li>
  <li>Added support for a single solidus hack for <code class="language-plaintext highlighter-rouge">property()</code></li>
  <li>Minor fixes for custom errors</li>
</ul>

<h2 id="100-alpha24-september-14-2017">1.0.0-alpha24 (September 14, 2017)</h2>

<ul>
  <li>Improved CSSTree to be stable for standart build-in objects extension (#58)</li>
  <li>Parser
    <ul>
      <li>Renamed rule‚Äôs <code class="language-plaintext highlighter-rouge">selector</code> to <code class="language-plaintext highlighter-rouge">prelude</code>. The reasons: <a href="https://www.w3.org/TR/css-syntax-3/#qualified-rule">spec names this part so</a>, and this branch can contain not only a selector (<code class="language-plaintext highlighter-rouge">SelectorList</code>) but also a raw payload (<code class="language-plaintext highlighter-rouge">Raw</code>). What‚Äôs changed:
        <ul>
          <li>Renamed <code class="language-plaintext highlighter-rouge">Rule.selector</code> to <code class="language-plaintext highlighter-rouge">Rule.prelude</code></li>
          <li>Renamed <code class="language-plaintext highlighter-rouge">parseSelector</code> parser option to <code class="language-plaintext highlighter-rouge">parseRulePrelude</code></li>
          <li>Removed option for selector parse in <code class="language-plaintext highlighter-rouge">SelectorList</code></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Lexer
    <ul>
      <li>Fixed undefined positions in a error when match a syntax to empty or white space only value</li>
      <li>Improved <code class="language-plaintext highlighter-rouge">Lexer#checkStructure()</code>
        <ul>
          <li>Return a warning as an object with node reference and message</li>
          <li>No exception on unknown node type, return a warning instead</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h2 id="100-alpha23-september-10-2017">1.0.0-alpha23 (September 10, 2017)</h2>

<ul>
  <li>Fixed <code class="language-plaintext highlighter-rouge">Tokenizer#getRawLength()</code>‚Äôs false positive balance match to the end of input in some cases (#56)</li>
  <li>Rename walker‚Äôs entry point methods to be the same as CSSTree exposed methods (i.e. <code class="language-plaintext highlighter-rouge">walk()</code>, <code class="language-plaintext highlighter-rouge">walkUp()</code> etc)</li>
  <li>Rename at-rule‚Äôs <code class="language-plaintext highlighter-rouge">expression</code> to <code class="language-plaintext highlighter-rouge">prelude</code> (since <a href="https://www.w3.org/TR/css-syntax-3/#at-rule">spec names it so</a>)
    <ul>
      <li><code class="language-plaintext highlighter-rouge">AtruleExpression</code> node type ‚Üí <code class="language-plaintext highlighter-rouge">AtrulePrelude</code></li>
      <li><code class="language-plaintext highlighter-rouge">Atrule.expression</code> field ‚Üí <code class="language-plaintext highlighter-rouge">Atrule.prelude</code></li>
      <li><code class="language-plaintext highlighter-rouge">parseAtruleExpression</code> parser‚Äôs option ‚Üí <code class="language-plaintext highlighter-rouge">parseAtrulePrelude</code></li>
      <li><code class="language-plaintext highlighter-rouge">atruleExpression</code> parse context ‚Üí <code class="language-plaintext highlighter-rouge">atrulePrelude</code></li>
      <li><code class="language-plaintext highlighter-rouge">atruleExpression</code> walk context reference ‚Üí <code class="language-plaintext highlighter-rouge">atrulePrelude</code></li>
    </ul>
  </li>
</ul>

<h2 id="100-alpha22-september-8-2017">1.0.0-alpha22 (September 8, 2017)</h2>

<ul>
  <li>Parser
    <ul>
      <li>Fixed exception on parsing of unclosed <code class="language-plaintext highlighter-rouge">{}-block</code> in tolerant mode</li>
      <li>Added tolerant mode support for <code class="language-plaintext highlighter-rouge">DeclarationList</code></li>
      <li>Added standalone entry point, i.e. default parser can be used via <code class="language-plaintext highlighter-rouge">require('css-tree/lib/parser')</code> (#47)</li>
    </ul>
  </li>
  <li>Generator
    <ul>
      <li>Changed generator to produce <code class="language-plaintext highlighter-rouge">+n</code> when <code class="language-plaintext highlighter-rouge">AnPlusB.a</code> is <code class="language-plaintext highlighter-rouge">+1</code> to be ‚Äúround-trip‚Äù with parser</li>
      <li>Added standalone entry point, i.e. default generators can be used via <code class="language-plaintext highlighter-rouge">require('css-tree/lib/generator')</code></li>
    </ul>
  </li>
  <li>Walker
    <ul>
      <li>Added standalone entry point, i.e. default walkers can be used via <code class="language-plaintext highlighter-rouge">require('css-tree/lib/walker')</code> (#47)</li>
    </ul>
  </li>
  <li>Lexer
    <ul>
      <li>Added <code class="language-plaintext highlighter-rouge">default</code> keyword to the list of invalid values for <code class="language-plaintext highlighter-rouge">&lt;custom-ident&gt;</code> (since it reversed per <a href="https://www.w3.org/TR/css-values/#custom-idents">spec</a>)</li>
    </ul>
  </li>
  <li>Convertors (<code class="language-plaintext highlighter-rouge">toPlainObject()</code> and <code class="language-plaintext highlighter-rouge">fromPlainObject()</code>) moved to <code class="language-plaintext highlighter-rouge">lib/convertor</code> (entry point is <code class="language-plaintext highlighter-rouge">require('css-tree/lib/convertor')</code>)</li>
</ul>

<h2 id="100-alpha21-september-5-2017">1.0.0-alpha21 (September 5, 2017)</h2>

<ul>
  <li>Tokenizer
    <ul>
      <li>Added <code class="language-plaintext highlighter-rouge">Raw</code> token type</li>
      <li>Improved tokenization of <code class="language-plaintext highlighter-rouge">url()</code> with raw as url to be more spec complient</li>
      <li>Added <code class="language-plaintext highlighter-rouge">Tokenizer#balance</code> array computation on token layout</li>
      <li>Added <code class="language-plaintext highlighter-rouge">Tokenizer#getRawLength()</code> to compute a raw length with respect of block balance</li>
      <li>Added <code class="language-plaintext highlighter-rouge">Tokenizer#getTokenStart(offset)</code> method to get token start offset by token index</li>
      <li>Added <code class="language-plaintext highlighter-rouge">idx</code> and <code class="language-plaintext highlighter-rouge">balance</code> fields to each token of <code class="language-plaintext highlighter-rouge">Tokenizer#dump()</code> method result</li>
    </ul>
  </li>
  <li>Parser
    <ul>
      <li>Added <code class="language-plaintext highlighter-rouge">onParseError</code> option</li>
      <li>Reworked node parsers that consume a <code class="language-plaintext highlighter-rouge">Raw</code> node to use a new approach. Since now a <code class="language-plaintext highlighter-rouge">Raw</code> node builds in <code class="language-plaintext highlighter-rouge">parser#Raw()</code> function only</li>
      <li>Changed semantic of <code class="language-plaintext highlighter-rouge">parser#Raw()</code>, it takes 5 parameters now (it might to be changed in future)</li>
      <li>Changed <code class="language-plaintext highlighter-rouge">parser#tolerantParse()</code> to pass a start token index to fallback function instead of source offset</li>
      <li>Fixed <code class="language-plaintext highlighter-rouge">AtruleExpression</code> consuming in tolerant mode</li>
      <li>Atrule handler to convert an empty <code class="language-plaintext highlighter-rouge">AtruleExpression</code> node into <code class="language-plaintext highlighter-rouge">null</code></li>
      <li>Changed <code class="language-plaintext highlighter-rouge">AtruleExpression</code> handler to always return a node (before it could return a <code class="language-plaintext highlighter-rouge">null</code> in some cases)</li>
    </ul>
  </li>
  <li>Lexer
    <ul>
      <li>Fixed comma match node for <code class="language-plaintext highlighter-rouge">#</code> multiplier</li>
      <li>Added reference name to <code class="language-plaintext highlighter-rouge">SyntaxReferenceError</code></li>
    </ul>
  </li>
  <li>Additional fixes on custom errors</li>
  <li>Reduced possible corruption of base config by <code class="language-plaintext highlighter-rouge">syntax.fork()</code></li>
</ul>

<h2 id="100-alpha20-august-28-2017">1.0.0-alpha20 (August 28, 2017)</h2>

<ul>
  <li>Tokenizer
    <ul>
      <li>Added <code class="language-plaintext highlighter-rouge">Atrule</code> token type (<code class="language-plaintext highlighter-rouge">&lt;at-rule-token&gt;</code> per spec)</li>
      <li>Added <code class="language-plaintext highlighter-rouge">Function</code> token type (<code class="language-plaintext highlighter-rouge">&lt;function-token&gt;</code> per spec)</li>
      <li>Added <code class="language-plaintext highlighter-rouge">Url</code> token type</li>
      <li>Replaced <code class="language-plaintext highlighter-rouge">Tokenizer#getTypes()</code> method with <code class="language-plaintext highlighter-rouge">Tokenizer#dump()</code> to get all tokens as an array</li>
      <li>Renamed <code class="language-plaintext highlighter-rouge">Tokenizer.TYPE.Whitespace</code> to <code class="language-plaintext highlighter-rouge">Tokenizer.TYPE.WhiteSpace</code></li>
      <li>Renamed <code class="language-plaintext highlighter-rouge">Tokenizer.findWhitespaceEnd()</code> to <code class="language-plaintext highlighter-rouge">Tokenizer.findWhiteSpaceEnd()</code></li>
    </ul>
  </li>
  <li>Parser
    <ul>
      <li>Added initial implementation of tollerant mode (turn on by passing <code class="language-plaintext highlighter-rouge">tolerant: true</code> option). In this mode parse errors are never occour and any invalid part of CSS turns into a <code class="language-plaintext highlighter-rouge">Raw</code> node. Current safe points: <code class="language-plaintext highlighter-rouge">Atrule</code>, <code class="language-plaintext highlighter-rouge">AtruleExpression</code>, <code class="language-plaintext highlighter-rouge">Rule</code>, <code class="language-plaintext highlighter-rouge">Selector</code> and <code class="language-plaintext highlighter-rouge">Declaration</code>. Feature is experimental and further improvements are planned.</li>
      <li>Changed <code class="language-plaintext highlighter-rouge">Atrule.expression</code> to contain a <code class="language-plaintext highlighter-rouge">AtruleExpression</code> node or <code class="language-plaintext highlighter-rouge">null</code> only (other node types is wrapping into a <code class="language-plaintext highlighter-rouge">AtruleExpression</code> node)</li>
      <li>Renamed <code class="language-plaintext highlighter-rouge">AttributeSelector.operator</code> to <code class="language-plaintext highlighter-rouge">AttributeSelector.matcher</code></li>
    </ul>
  </li>
  <li>Generator
    <ul>
      <li><code class="language-plaintext highlighter-rouge">translate()</code> method is now can take a function as second argument, that recieves every generated chunk. When no function is passed, default handler is used, it concats all the chunks and method returns a string.</li>
    </ul>
  </li>
  <li>Lexer
    <ul>
      <li>Used <a href="https://github.com/mdn/data">mdn/data</a> package as source of lexer‚Äôs grammar instead of local dictionaries</li>
      <li>Added <code class="language-plaintext highlighter-rouge">x</code> unit to <code class="language-plaintext highlighter-rouge">&lt;resolution&gt;</code> generic type</li>
      <li>Improved match tree:
        <ul>
          <li>Omited Group (sequences) match nodes</li>
          <li>Omited empty match nodes (for terms with <code class="language-plaintext highlighter-rouge">zero or more</code> multipliers)</li>
          <li>Added <code class="language-plaintext highlighter-rouge">ASTNode</code> node type to contain a reference to AST node</li>
          <li>Fixed node duplication (uncompleted match were added to tree)</li>
          <li>Added AST node reference in match nodes</li>
          <li>Added comma match node by <code class="language-plaintext highlighter-rouge">#</code> multiplier</li>
        </ul>
      </li>
      <li>Grammar
        <ul>
          <li>Changed <code class="language-plaintext highlighter-rouge">translate()</code> function to get a handler as third argument (optional). That handler recieves result of node traslation and can be used for decoration purposes. See <a href="https://github.com/csstree/docs/blob/04c65af44477b5ea05feb373482898122b2a4528/docs/syntax.html#L619-L627">example</a></li>
          <li>Added <code class="language-plaintext highlighter-rouge">SyntaxParseError</code> to grammar export</li>
          <li>Reworked group and multipliers representation in syntax tree:
            <ul>
              <li>Replaced <code class="language-plaintext highlighter-rouge">Sequence</code> for <code class="language-plaintext highlighter-rouge">Group</code> node type (<code class="language-plaintext highlighter-rouge">Sequence</code> node type removed)</li>
              <li>Added <code class="language-plaintext highlighter-rouge">explicit</code> boolean property for <code class="language-plaintext highlighter-rouge">Group</code></li>
              <li>Only groups can have a multiplier now (other node types is wrapping into a single term implicit group when multiplier is applied)</li>
              <li>Renamed <code class="language-plaintext highlighter-rouge">nonEmpty</code> Group‚Äôs property to <code class="language-plaintext highlighter-rouge">disallowEmpty</code></li>
              <li>Added optimisation for syntax tree by dropping redundant root <code class="language-plaintext highlighter-rouge">Group</code> when it contains a single <code class="language-plaintext highlighter-rouge">Group</code> term (return this <code class="language-plaintext highlighter-rouge">Group</code> as a result)</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>Changed lexer‚Äôs match functionality
        <ul>
          <li>Changed <code class="language-plaintext highlighter-rouge">Lexer#matchProperty()</code> and <code class="language-plaintext highlighter-rouge">Lexer#matchType()</code> to return an object instead of match tree. A match tree stores in <code class="language-plaintext highlighter-rouge">matched</code> field when AST is matched to grammar successfully, otherwise an error in <code class="language-plaintext highlighter-rouge">error</code> field. The result object also has some methods to test AST node against a match tree: <code class="language-plaintext highlighter-rouge">getTrace()</code>, <code class="language-plaintext highlighter-rouge">isType()</code>, <code class="language-plaintext highlighter-rouge">isProperty()</code> and <code class="language-plaintext highlighter-rouge">isKeyword()</code></li>
          <li>Added <code class="language-plaintext highlighter-rouge">Lexer#matchDeclaration()</code> method</li>
          <li>Removed <code class="language-plaintext highlighter-rouge">Lexer#lastMatchError</code> (error stores in match result object in <code class="language-plaintext highlighter-rouge">error</code> field)</li>
        </ul>
      </li>
      <li>Added initial implementation of search for AST segments (new lexer methods: <code class="language-plaintext highlighter-rouge">Lexer#findValueSegments()</code>, <code class="language-plaintext highlighter-rouge">Lexer#findDeclarationValueSegments()</code> and <code class="language-plaintext highlighter-rouge">Lexer#findAllSegments</code>)</li>
      <li>Implemented <code class="language-plaintext highlighter-rouge">SyntaxReferenceError</code> for unknown property and type references</li>
    </ul>
  </li>
  <li>Renamed field in resulting object of <code class="language-plaintext highlighter-rouge">property()</code> function: <code class="language-plaintext highlighter-rouge">variable</code> ‚Üí <code class="language-plaintext highlighter-rouge">custom</code></li>
  <li>Fixed issue with readonly properties (e.g. <code class="language-plaintext highlighter-rouge">line</code> and <code class="language-plaintext highlighter-rouge">column</code>) of <code class="language-plaintext highlighter-rouge">Error</code> and exception on attempt to write in iOS Safari</li>
</ul>

<h2 id="100-alpha19-april-24-2017">1.0.0-alpha19 (April 24, 2017)</h2>

<ul>
  <li>Extended <code class="language-plaintext highlighter-rouge">List</code> class with new methods:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">List#prepend(item)</code></li>
      <li><code class="language-plaintext highlighter-rouge">List#prependData(data)</code></li>
      <li><code class="language-plaintext highlighter-rouge">List#insertData(data)</code></li>
      <li><code class="language-plaintext highlighter-rouge">List#insertList(list)</code></li>
      <li><code class="language-plaintext highlighter-rouge">List#replace(item, itemOrList)</code></li>
    </ul>
  </li>
</ul>

<h2 id="100-alpha18-april-3-2017">1.0.0-alpha18 (April 3, 2017)</h2>

<ul>
  <li>Added <code class="language-plaintext highlighter-rouge">atrule</code> walk context (#39)</li>
  <li>Changed a result of generate method for <code class="language-plaintext highlighter-rouge">AnPlusB</code>, <code class="language-plaintext highlighter-rouge">AttributeSelector</code>, <code class="language-plaintext highlighter-rouge">Function</code>, <code class="language-plaintext highlighter-rouge">MediaFeature</code> and <code class="language-plaintext highlighter-rouge">Ratio</code> (<a href="https://github.com/csstree/csstree/commit/1e9587710efa8e9338bcf0bc794b4b45f286231d">1e95877</a>)</li>
  <li>Fixed typo in <code class="language-plaintext highlighter-rouge">List</code> exception messages (@strarsis, #42)</li>
  <li>Improved tokenizer to convert an input to a string</li>
</ul>

<h2 id="100-alpha17-march-13-2017">1.0.0-alpha17 (March 13, 2017)</h2>

<ul>
  <li>Implemented new concept of <code class="language-plaintext highlighter-rouge">syntax</code>
    <ul>
      <li>Changed main <code class="language-plaintext highlighter-rouge">exports</code> to expose a default syntax</li>
      <li>Defined initial <a href="lib/syntax/default.js">CSS syntax</a></li>
      <li>Implemented <code class="language-plaintext highlighter-rouge">createSyntax()</code> method to create a new syntax from scratch</li>
      <li>Implemented <code class="language-plaintext highlighter-rouge">fork()</code> method to create a new syntax based on given via extension</li>
    </ul>
  </li>
  <li>Parser
    <ul>
      <li>Implemented <code class="language-plaintext highlighter-rouge">mediaQueryList</code> and <code class="language-plaintext highlighter-rouge">mediaQuery</code> parsing contexts</li>
      <li>Implemented <code class="language-plaintext highlighter-rouge">CDO</code> and <code class="language-plaintext highlighter-rouge">CDC</code> node types</li>
      <li>Implemented additional declaration property prefix hacks (<code class="language-plaintext highlighter-rouge">#</code> and <code class="language-plaintext highlighter-rouge">+</code>)</li>
      <li>Added support for UTF-16LE BOM</li>
      <li>Added support for <code class="language-plaintext highlighter-rouge">@font-face</code> at-rule</li>
      <li>Added <code class="language-plaintext highlighter-rouge">chroma()</code> to legacy IE filter functions</li>
      <li>Improved <code class="language-plaintext highlighter-rouge">HexColor</code> to consume hex only</li>
      <li>Improved support for <code class="language-plaintext highlighter-rouge">\0</code> and <code class="language-plaintext highlighter-rouge">\9</code> hacks (#2)</li>
      <li>Relaxed number check for <code class="language-plaintext highlighter-rouge">Ratio</code> terms
        <ul>
          <li>Allowed fractal values as a <code class="language-plaintext highlighter-rouge">Ratio</code> term</li>
          <li>Disallowed zero number as a <code class="language-plaintext highlighter-rouge">Ratio</code> term</li>
        </ul>
      </li>
      <li>Changed important clause parsing
        <ul>
          <li>Allowed any identifier for important (to support hacks like <code class="language-plaintext highlighter-rouge">!ie</code>)</li>
          <li>Store <code class="language-plaintext highlighter-rouge">true</code> for <code class="language-plaintext highlighter-rouge">important</code> field in case identifier equals to <code class="language-plaintext highlighter-rouge">important</code> and string otherwise</li>
        </ul>
      </li>
      <li>Fixed parse error formatted message rendering to take into account tabs</li>
      <li>Removed exposing of <code class="language-plaintext highlighter-rouge">Parser</code> class</li>
      <li>Removed <code class="language-plaintext highlighter-rouge">readSelectorSequence()</code>, <code class="language-plaintext highlighter-rouge">readSequenceFallback()</code> and <code class="language-plaintext highlighter-rouge">readSelectorSequenceFallback</code> methods</li>
      <li>Used single universal sequence consumer for <code class="language-plaintext highlighter-rouge">AtruleExpression</code>, <code class="language-plaintext highlighter-rouge">Selector</code> and <code class="language-plaintext highlighter-rouge">Value</code></li>
    </ul>
  </li>
  <li>Generator
    <ul>
      <li>Reworked generator to use auto-generated functions based on syntax definition (additional work to be done in next releases)</li>
      <li>Implemented <code class="language-plaintext highlighter-rouge">translateMarkup(ast, before, after)</code> method for complex cases</li>
      <li>Reworked <code class="language-plaintext highlighter-rouge">translateWithSourceMap</code> to be more flexible (based on <code class="language-plaintext highlighter-rouge">translateMarkup</code>, additional work to be done in next releases)</li>
    </ul>
  </li>
  <li>Walker
    <ul>
      <li>Reworked walker to use auto-generated function based on syntax definition (additional work to be done in next releases)</li>
    </ul>
  </li>
  <li>Lexer
    <ul>
      <li>Prepared for better extensibility (additional work to be done in next releases)</li>
      <li>Implemented <code class="language-plaintext highlighter-rouge">checkStructure(ast)</code> method to check AST structure based on syntax definition</li>
      <li>Update syntax dictionaries to latest <code class="language-plaintext highlighter-rouge">mdn/data</code>
        <ul>
          <li>Add missing <code class="language-plaintext highlighter-rouge">&lt;'offset-position'&gt;</code> syntax</li>
          <li>Extended <code class="language-plaintext highlighter-rouge">&lt;position&gt;</code> property with <code class="language-plaintext highlighter-rouge">-webkit-sticky</code> (@sergejmueller, #37)</li>
        </ul>
      </li>
      <li>Improved mismatch error position</li>
    </ul>
  </li>
  <li>Implemented script (<code class="language-plaintext highlighter-rouge">gen:syntax</code>) to generate AST format reference page (<code class="language-plaintext highlighter-rouge">docs/ast.md</code>) using syntax definition</li>
</ul>

<h2 id="100-alpha16-february-12-2017">1.0.0-alpha16 (February 12, 2017)</h2>

<ul>
  <li>Exposed <code class="language-plaintext highlighter-rouge">Parser</code> class</li>
  <li>Added <code class="language-plaintext highlighter-rouge">startOffset</code> option to <code class="language-plaintext highlighter-rouge">Tokenizer</code> (constructor and <code class="language-plaintext highlighter-rouge">setSource()</code> method)</li>
  <li>Added fallback functions for default (<code class="language-plaintext highlighter-rouge">readSequenceFallback</code>) and selector (<code class="language-plaintext highlighter-rouge">readSelectorSequenceFallback</code>) sequence readers</li>
  <li>Fixed edge cases for <code class="language-plaintext highlighter-rouge">AnPlusB</code></li>
  <li>Fixed wrong whitespace ignoring in <code class="language-plaintext highlighter-rouge">Selector</code> consumer</li>
</ul>

<h2 id="100-alpha15-february-8-2017">1.0.0-alpha15 (February 8, 2017)</h2>

<ul>
  <li>Fixed broken <code class="language-plaintext highlighter-rouge">atruleExpression</code> context</li>
  <li>Fixed vendor prefix detection in <code class="language-plaintext highlighter-rouge">keyword()</code> and <code class="language-plaintext highlighter-rouge">property()</code></li>
  <li>Fixed <code class="language-plaintext highlighter-rouge">property()</code> to not lowercase custom property names</li>
  <li>Added <code class="language-plaintext highlighter-rouge">variable</code> boolean flag in <code class="language-plaintext highlighter-rouge">property()</code> result</li>
  <li>Renamed <code class="language-plaintext highlighter-rouge">scanner</code> into <code class="language-plaintext highlighter-rouge">tokenizer</code></li>
  <li>Ranamed <code class="language-plaintext highlighter-rouge">syntax</code> into <code class="language-plaintext highlighter-rouge">lexer</code></li>
  <li>Moved <code class="language-plaintext highlighter-rouge">docs/*.html</code> files to <a href="https://github.com/csstree/docs">csstree/docs</a> repo</li>
  <li>Added <code class="language-plaintext highlighter-rouge">element()</code> function for <code class="language-plaintext highlighter-rouge">Value</code> context (<code class="language-plaintext highlighter-rouge">-moz-element()</code> supported as well)</li>
  <li>Merged <code class="language-plaintext highlighter-rouge">Universal</code> node type into <code class="language-plaintext highlighter-rouge">Type</code></li>
  <li>Renamed node types:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">Id</code> -&gt; <code class="language-plaintext highlighter-rouge">IdSelector</code></li>
      <li><code class="language-plaintext highlighter-rouge">Class</code> -&gt; <code class="language-plaintext highlighter-rouge">ClassSelector</code></li>
      <li><code class="language-plaintext highlighter-rouge">Type</code> -&gt; <code class="language-plaintext highlighter-rouge">TypeSelector</code></li>
      <li><code class="language-plaintext highlighter-rouge">Attribute</code> -&gt; <code class="language-plaintext highlighter-rouge">AttributeSelector</code></li>
      <li><code class="language-plaintext highlighter-rouge">PseudoClass</code> -&gt; <code class="language-plaintext highlighter-rouge">PseudoClassSelector</code></li>
      <li><code class="language-plaintext highlighter-rouge">PseudoElement</code> -&gt; <code class="language-plaintext highlighter-rouge">PseudoElementSelector</code></li>
      <li><code class="language-plaintext highlighter-rouge">Hash</code> -&gt; <code class="language-plaintext highlighter-rouge">HexColor</code></li>
      <li><code class="language-plaintext highlighter-rouge">Space</code> -&gt; <code class="language-plaintext highlighter-rouge">WhiteSpace</code></li>
      <li><code class="language-plaintext highlighter-rouge">An+B</code> -&gt; <code class="language-plaintext highlighter-rouge">AnPlusB</code></li>
    </ul>
  </li>
  <li>Removed <code class="language-plaintext highlighter-rouge">Progid</code> node type</li>
  <li>Relaxed <code class="language-plaintext highlighter-rouge">MediaQuery</code> consumer to not validate syntax on parse and to include whitespaces in children sequence as is</li>
  <li>Added <code class="language-plaintext highlighter-rouge">WhiteSpace.value</code> property to store whitespace sequence</li>
  <li>Implemented parser options to specify what should be parsed in details (when option is <code class="language-plaintext highlighter-rouge">false</code> some part of CSS represents as balanced <code class="language-plaintext highlighter-rouge">Raw</code>):
    <ul>
      <li><code class="language-plaintext highlighter-rouge">parseAtruleExpression</code> ‚Äì to parse at-rule expressions (<code class="language-plaintext highlighter-rouge">true</code> by default)</li>
      <li><code class="language-plaintext highlighter-rouge">parseSelector</code> ‚Äì to parse rule‚Äôs selector (<code class="language-plaintext highlighter-rouge">true</code> by default)</li>
      <li><code class="language-plaintext highlighter-rouge">parseValue</code> - to parse declaration‚Äôs value (<code class="language-plaintext highlighter-rouge">true</code> by default)</li>
      <li><code class="language-plaintext highlighter-rouge">parseCustomProperty</code> ‚Äì to parse value and fallback of custom property (<code class="language-plaintext highlighter-rouge">false</code> by default)</li>
    </ul>
  </li>
  <li>Changed tokenization to stick leading hyphen minus to identifier token</li>
  <li>Changed selector parsing:
    <ul>
      <li>Don‚Äôt convert spaces into descendant combinator</li>
      <li>Don‚Äôt validate selector structure on parsing (selectors may be checked by lexer later)</li>
    </ul>
  </li>
  <li>Initial refactoring of <a href="https://github.com/csstree/csstree/blob/master/docs">docs</a></li>
  <li>Various improvements and fixes</li>
</ul>

<h2 id="100-alpha14-february-3-2017">1.0.0-alpha14 (February 3, 2017)</h2>

<ul>
  <li>Implemented <code class="language-plaintext highlighter-rouge">DeclarationList</code>, <code class="language-plaintext highlighter-rouge">MediaQueryList</code>, <code class="language-plaintext highlighter-rouge">MediaQuery</code>, <code class="language-plaintext highlighter-rouge">MediaFeature</code> and <code class="language-plaintext highlighter-rouge">Ratio</code> node types</li>
  <li>Implemented <code class="language-plaintext highlighter-rouge">declarationList</code> context (useful to parse HTML <code class="language-plaintext highlighter-rouge">style</code> attribute content)</li>
  <li>Implemented custom consumers for <code class="language-plaintext highlighter-rouge">@import</code>, <code class="language-plaintext highlighter-rouge">@media</code>, <code class="language-plaintext highlighter-rouge">@page</code> and <code class="language-plaintext highlighter-rouge">@supports</code> at-rules</li>
  <li>Implemented <code class="language-plaintext highlighter-rouge">atrule</code> option for <code class="language-plaintext highlighter-rouge">parse()</code> config, is used for <code class="language-plaintext highlighter-rouge">atruleExpession</code> context to specify custom consumer for at-rule if any</li>
  <li>Added <code class="language-plaintext highlighter-rouge">Scanner#skipWS()</code>, <code class="language-plaintext highlighter-rouge">Scanner#eatNonWS()</code>, <code class="language-plaintext highlighter-rouge">Scanner#consume()</code> and <code class="language-plaintext highlighter-rouge">Scanner#consumeNonWS()</code> helper methods</li>
  <li>Added custom consumers for known functional-pseudos, consume unknown functional-pseudo content as balanced <code class="language-plaintext highlighter-rouge">Raw</code></li>
  <li>Allowed any <code class="language-plaintext highlighter-rouge">PseudoElement</code> to be a functional-pseudo (#33)</li>
  <li>Improved walker implementations to reduce GC thrashing by reusing cursors</li>
  <li>Changed <code class="language-plaintext highlighter-rouge">Atrule.block</code> to contain a <code class="language-plaintext highlighter-rouge">Block</code> node type only if any</li>
  <li>Changed <code class="language-plaintext highlighter-rouge">Block.loc</code> positions to include curly brackets</li>
  <li>Changed <code class="language-plaintext highlighter-rouge">Atrule.expression</code> to store a <code class="language-plaintext highlighter-rouge">null</code> if no expression</li>
  <li>Changed parser to use <code class="language-plaintext highlighter-rouge">StyleSheet</code> node type only for top level node (when context is <code class="language-plaintext highlighter-rouge">stylesheet</code>, that‚Äôs by default)</li>
  <li>Changed <code class="language-plaintext highlighter-rouge">Parentheses</code>, <code class="language-plaintext highlighter-rouge">Brackets</code> and <code class="language-plaintext highlighter-rouge">Function</code> consumers to use passed sequence reader instead of its own</li>
  <li>Changed <code class="language-plaintext highlighter-rouge">Value</code> and <code class="language-plaintext highlighter-rouge">AtruleExpression</code> consumers to use common sequence reader (that reader was used by <code class="language-plaintext highlighter-rouge">Value</code> consumer before)</li>
  <li>Changed default sequence reader to exclude storage of spaces around <code class="language-plaintext highlighter-rouge">Comma</code></li>
  <li>Changed processing of custom properties:
    <ul>
      <li>Consume declaration value as balanced <code class="language-plaintext highlighter-rouge">Raw</code></li>
      <li>Consume <code class="language-plaintext highlighter-rouge">var()</code> fallback value as balanced <code class="language-plaintext highlighter-rouge">Raw</code></li>
      <li>Validate first argument of <code class="language-plaintext highlighter-rouge">var()</code> starts with double dash</li>
      <li>Custom property‚Äôs value and fallback includes spaces around</li>
    </ul>
  </li>
  <li>Fixed <code class="language-plaintext highlighter-rouge">Nth</code> to have a <code class="language-plaintext highlighter-rouge">loc</code> property</li>
  <li>Fixed <code class="language-plaintext highlighter-rouge">SelectorList.loc</code> and <code class="language-plaintext highlighter-rouge">Selector.loc</code> positions to exclude spaces</li>
  <li>Fixed issue Browserify build fail with <code class="language-plaintext highlighter-rouge">default-syntax.json</code> is not found error (#32, @philschatz)</li>
  <li>Disallowed <code class="language-plaintext highlighter-rouge">Type</code> selector starting with dash (parser throws an error in this case now)</li>
  <li>Disallowed empty selectors for <code class="language-plaintext highlighter-rouge">Rule</code> (not sure if it‚Äôs correct but looks reasonable)</li>
  <li>Removed <code class="language-plaintext highlighter-rouge">&gt;&gt;</code> combinator support until any browser support (no signals about that yet)</li>
  <li>Removed <code class="language-plaintext highlighter-rouge">PseudoElement.legacy</code> property</li>
  <li>Removed special case for <code class="language-plaintext highlighter-rouge">:before</code>, <code class="language-plaintext highlighter-rouge">:after</code>, <code class="language-plaintext highlighter-rouge">:first-letter</code> and <code class="language-plaintext highlighter-rouge">:first-line</code> to represent them as <code class="language-plaintext highlighter-rouge">PseudoElement</code>, now those pseudos are represented as <code class="language-plaintext highlighter-rouge">PseudoClass</code> nodes</li>
  <li>Removed deprecated <code class="language-plaintext highlighter-rouge">Syntax#match()</code> method</li>
  <li>Parser was splitted into modules and related changes, one step closer to an extensible parser</li>
  <li>Various fixes and improvements, all changes have negligible impact on performance</li>
</ul>

<h2 id="100-alpha13-january-19-2017">1.0.0-alpha13 (January 19, 2017)</h2>

<ul>
  <li>Changed location storing in <code class="language-plaintext highlighter-rouge">SyntaxMatchError</code>
    <ul>
      <li>Changed property to store mismatch offset to <code class="language-plaintext highlighter-rouge">mismatchOffset</code></li>
      <li>Changed <code class="language-plaintext highlighter-rouge">offset</code> property to store bad node offset in source CSS if any</li>
      <li>Added <code class="language-plaintext highlighter-rouge">loc</code> property that stores bad node <code class="language-plaintext highlighter-rouge">loc</code> if any</li>
    </ul>
  </li>
</ul>

<h2 id="100-alpha12-january-19-2017">1.0.0-alpha12 (January 19, 2017)</h2>

<ul>
  <li>Fixed <code class="language-plaintext highlighter-rouge">Syntax#matchProperty()</code> method to always return a positive result for custom properties since syntax is never defined for them (#31)</li>
  <li>Implemented <code class="language-plaintext highlighter-rouge">fromPlainObject()</code> and <code class="language-plaintext highlighter-rouge">toPlainObject()</code> to convert plain object to AST or AST to plain object (currently converts <code class="language-plaintext highlighter-rouge">List</code> &lt;-&gt; <code class="language-plaintext highlighter-rouge">Array</code>)</li>
</ul>

<h2 id="100-alpha11-january-18-2017">1.0.0-alpha11 (January 18, 2017)</h2>

<ul>
  <li>Added support for <code class="language-plaintext highlighter-rouge">:matches(&lt;selector-list&gt;)</code> (#28)</li>
  <li>Added support for <code class="language-plaintext highlighter-rouge">:has(&lt;relative-selector-list&gt;)</code></li>
  <li>Added support for <code class="language-plaintext highlighter-rouge">::slotted(&lt;compound-selector&gt;)</code></li>
  <li>Implemented <code class="language-plaintext highlighter-rouge">Brackets</code> node type</li>
  <li>Implemented basic support for at-rule inside rule block (#24)</li>
  <li>Renamed <code class="language-plaintext highlighter-rouge">Selector</code> node type to <code class="language-plaintext highlighter-rouge">SelectorList</code></li>
  <li>Renamed <code class="language-plaintext highlighter-rouge">SimpleSelector</code> node type to <code class="language-plaintext highlighter-rouge">Selector</code></li>
  <li>Renamed <code class="language-plaintext highlighter-rouge">UnicodeRange.name</code> property to <code class="language-plaintext highlighter-rouge">UnicodeRange.value</code></li>
  <li>Replaced <code class="language-plaintext highlighter-rouge">Negation</code> node type for regular <code class="language-plaintext highlighter-rouge">PseudoClass</code></li>
  <li>Unified name of node property to store nested nodes, it always <code class="language-plaintext highlighter-rouge">children</code> now:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">StyleSheet.rules</code> -&gt; <code class="language-plaintext highlighter-rouge">StyleSheet.children</code></li>
      <li><code class="language-plaintext highlighter-rouge">SelectorList.selectors</code> -&gt; <code class="language-plaintext highlighter-rouge">SelectorList.children</code></li>
      <li><code class="language-plaintext highlighter-rouge">Block.declarations</code> -&gt; <code class="language-plaintext highlighter-rouge">Block.children</code></li>
      <li><code class="language-plaintext highlighter-rouge">*.sequence</code> -&gt; <code class="language-plaintext highlighter-rouge">*.children</code></li>
    </ul>
  </li>
  <li>Fixed edge cases in parsing <code class="language-plaintext highlighter-rouge">Hex</code> and <code class="language-plaintext highlighter-rouge">UnicodeRange</code> when number not an integer</li>
  <li>Changed <code class="language-plaintext highlighter-rouge">nth-</code> pseudos parsing
    <ul>
      <li>Implemented <code class="language-plaintext highlighter-rouge">An+B</code> node type to represent expressions like <code class="language-plaintext highlighter-rouge">2n + 1</code> or <code class="language-plaintext highlighter-rouge">-3n</code></li>
      <li>Fixed edge cases when <code class="language-plaintext highlighter-rouge">a</code> or <code class="language-plaintext highlighter-rouge">b</code> is not an integer</li>
      <li>Changed <code class="language-plaintext highlighter-rouge">odd</code> and <code class="language-plaintext highlighter-rouge">even</code> keywords processing, keywords are storing as <code class="language-plaintext highlighter-rouge">Identifier</code> node type now</li>
      <li>Changed <code class="language-plaintext highlighter-rouge">Nth</code> node type format to store a <code class="language-plaintext highlighter-rouge">nth</code>-query and an optional <code class="language-plaintext highlighter-rouge">selector</code></li>
      <li>Implemented <code class="language-plaintext highlighter-rouge">of</code> clause for <code class="language-plaintext highlighter-rouge">nth-</code> pseudos (a.e. <code class="language-plaintext highlighter-rouge">:nth-child(2n + 1 of li, img)</code>)</li>
      <li>Limited <code class="language-plaintext highlighter-rouge">Nth</code> parsing rules to <code class="language-plaintext highlighter-rouge">:nth-child()</code>, <code class="language-plaintext highlighter-rouge">:nth-last-child()</code>, <code class="language-plaintext highlighter-rouge">:nth-of-type()</code> and <code class="language-plaintext highlighter-rouge">:nth-last-of-type()</code> pseudos</li>
    </ul>
  </li>
  <li>Changed the way to store locations
    <ul>
      <li>Renamed <code class="language-plaintext highlighter-rouge">info</code> node property to <code class="language-plaintext highlighter-rouge">loc</code></li>
      <li>Changed format of <code class="language-plaintext highlighter-rouge">loc</code> to store <code class="language-plaintext highlighter-rouge">start</code> and <code class="language-plaintext highlighter-rouge">end</code> positions</li>
    </ul>
  </li>
</ul>

<h2 id="100-alpha10-january-11-2017">1.0.0-alpha10 (January 11, 2017)</h2>

<ul>
  <li>Reworked <code class="language-plaintext highlighter-rouge">Scanner</code> to be a single point to its functionality</li>
  <li>Exposed <code class="language-plaintext highlighter-rouge">Scanner</code> class to be useful for external projects</li>
  <li>Changed <code class="language-plaintext highlighter-rouge">walk()</code> function behaviour to traverse AST nodes in natural order</li>
  <li>Implemented <code class="language-plaintext highlighter-rouge">walkUp()</code> function to traverse AST nodes from deepest to parent (behaves as <code class="language-plaintext highlighter-rouge">walk()</code> before)</li>
</ul>

<h2 id="100-alpha9-december-21-2016">1.0.0-alpha9 (December 21, 2016)</h2>

<ul>
  <li>Fixed <code class="language-plaintext highlighter-rouge">&lt;angle&gt;</code> generic according to specs that allow a <code class="language-plaintext highlighter-rouge">&lt;number&gt;</code> equals to zero to be used as valid value (#30)</li>
</ul>

<h2 id="100-alpha8-november-11-2016">1.0.0-alpha8 (November 11, 2016)</h2>

<ul>
  <li>Fixed <code class="language-plaintext highlighter-rouge">Scanner#skip()</code> issue method when cursor is moving to the end of source</li>
  <li>Simplified <code class="language-plaintext highlighter-rouge">Progid</code> node</li>
  <li>Changed behaviour for bad selector processing, now parsing fails instead of selector ignoring</li>
  <li>Fixed <code class="language-plaintext highlighter-rouge">&lt;id-selector&gt;</code> generic syntax</li>
  <li>Added <code class="language-plaintext highlighter-rouge">q</code> unit for <code class="language-plaintext highlighter-rouge">&lt;length&gt;</code> generic syntax</li>
  <li>Refactored syntax parser (performance)</li>
  <li>Reduced startup time by implementing lazy syntax parsing (default syntax doesn‚Äôt parse on module load)</li>
  <li>Updated syntax dictionaries and used <a href="https://github.com/mdn/data"><code class="language-plaintext highlighter-rouge">mdn/data</code></a> instead of <code class="language-plaintext highlighter-rouge">Template:CSSData</code></li>
  <li>Renamed <code class="language-plaintext highlighter-rouge">syntax.stringify()</code> method to <code class="language-plaintext highlighter-rouge">syntax.translate()</code></li>
  <li>Simplified generic syntax functions, those functions receive a single AST node for checking and should return <code class="language-plaintext highlighter-rouge">true</code> or <code class="language-plaintext highlighter-rouge">false</code></li>
  <li>Added exception for values that contains <code class="language-plaintext highlighter-rouge">var()</code>, those values are always valid for now</li>
  <li>Added more tests and increase code coverage to <code class="language-plaintext highlighter-rouge">98.5%</code></li>
</ul>

<h2 id="100-alpha7-october-7-2016">1.0.0-alpha7 (October 7, 2016)</h2>

<ul>
  <li>Added support for explicit descendant combinator (<code class="language-plaintext highlighter-rouge">&gt;&gt;</code>)</li>
  <li>Implemented <code class="language-plaintext highlighter-rouge">Type</code> and <code class="language-plaintext highlighter-rouge">Universal</code> type nodes</li>
  <li>Improved <code class="language-plaintext highlighter-rouge">Number</code> parsing by including sign and exponent (#26)</li>
  <li>Parse <code class="language-plaintext highlighter-rouge">before</code>, <code class="language-plaintext highlighter-rouge">after</code>, <code class="language-plaintext highlighter-rouge">first-letter</code> and <code class="language-plaintext highlighter-rouge">first-line</code> pseudos with single colon as <code class="language-plaintext highlighter-rouge">PseudoElement</code></li>
  <li>Changed <code class="language-plaintext highlighter-rouge">FunctionalPseudo</code> node type to <code class="language-plaintext highlighter-rouge">PseudoClass</code></li>
  <li>Fixed attribute selector name parsing (namespace edge cases)</li>
  <li>Fixed location calculation for specified offset when <code class="language-plaintext highlighter-rouge">eof</code> is reached</li>
  <li>Added more non-standard colors (#25)</li>
  <li>Removed obsolete <code class="language-plaintext highlighter-rouge">Syntax#getAll()</code> method</li>
  <li>Fixed various edge cases, code clean up and performance improvements</li>
</ul>

<h2 id="100-alpha6-september-23-2016">1.0.0-alpha6 (September 23, 2016)</h2>

<ul>
  <li>More accurate positions for syntax mismatch errors</li>
  <li>Added <a href="https://webkit.org/blog/3709/using-the-system-font-in-web-content/"><code class="language-plaintext highlighter-rouge">apple</code></a> specific font keywords (#20)</li>
  <li>Changed <code class="language-plaintext highlighter-rouge">Property</code> node stucture from object to string</li>
  <li>Renamed <code class="language-plaintext highlighter-rouge">Ruleset</code> node type to <code class="language-plaintext highlighter-rouge">Rule</code></li>
  <li>Removed <code class="language-plaintext highlighter-rouge">Argument</code> node type</li>
  <li>Fixed <code class="language-plaintext highlighter-rouge">Dimension</code> and <code class="language-plaintext highlighter-rouge">Percentage</code> position computation</li>
  <li>Fixed bad selector parsing (temporary solution)</li>
  <li>Fixed location computation for CSS with very long lines that may lead to really long parsing with <code class="language-plaintext highlighter-rouge">positions:true</code> (even freeze)</li>
  <li>Fixed <code class="language-plaintext highlighter-rouge">line</code> and <code class="language-plaintext highlighter-rouge">column</code> computation for <code class="language-plaintext highlighter-rouge">SyntaxMatch</code> error</li>
  <li>Improved performance of parsing and translation. Now CSSTree is under 10ms in <a href="https://github.com/postcss/benchmark">PostCSS benchmark</a>.</li>
</ul>

      </div>
      <div class="bg-theme border-t border-gray-200 dark:border-gray-600">
    <div class="max-w-3xl flex flex-col mx-auto px-6 py-6">
        <div class="mx-auto print:hidden">

            
            <a href="https://twitter.com/liamcottle" data-toggle="tooltip" data-title="Twitter" class="raise inline-flex items-center p-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-twitter focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-twitter">
                <svg role="img" class="w-4 h-4" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path fill="currentColor" d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                </svg>
            </a>
            

            
            <a href="https://github.com/liamcottle" data-toggle="tooltip" data-title="GitHub" class="raise inline-flex items-center p-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-github focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-github">
                <svg role="img" class="w-4 h-4" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path fill="currentColor" d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/>
                </svg>
            </a>
            

            
            <a href="https://discord.gg/APQSQZNV7t" data-toggle="tooltip" data-title="Discord" class="raise inline-flex items-center p-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-discord focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-discord">
                <svg role="img" class="w-4 h-4" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path fill="currentColor" d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"/>
                </svg>
            </a>
            

            
            <a href="https://www.linkedin.com/in/liamcottle/" data-toggle="tooltip" data-title="LinkedIn" class="raise inline-flex items-center p-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-linkedin focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-linkedin">
                <svg role="img" class="w-4 h-4" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path fill="currentColor" d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                </svg>
            </a>
            


            
            <a href="https://liamcottle.com/contact" data-toggle="tooltip" data-title="Email" class="raise inline-flex items-center p-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                </svg>
            </a>
            

        </div>
        <div class="flex flex-col mx-auto text-sm text-center mt-3 text-gray-400">
            <div>This work is licensed under the</div>
            <div class="mb-1">
                 <a class="link" rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0 International License</a>
            </div>
            <div>by <a class="link" rel="license" href="https://liamcottle.com">Liam Cottle</a></div>
        </div>
    </div>
</div>
    </div>
  </div>
</div>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-S3724X6D5M"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-S3724X6D5M');
</script>


<!-- tooltips -->
<script src="https://unpkg.com/@popperjs/core@2"></script>
<script src="https://unpkg.com/tippy.js@6"></script>
<script type="text/javascript">
    tippy('[data-toggle="tooltip"]', {
        content(element) {
            return element.getAttribute('data-title');
        },
    });
</script>

<!-- theme -->
<script type="text/javascript">

    var themeToggleButton = document.getElementById('theme-toggle');
    var themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
    var themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');

    function useLightTheme() {
        document.documentElement.classList.remove('dark');
        themeToggleDarkIcon.classList.remove('hidden');
        themeToggleLightIcon.classList.add('hidden');
        localStorage.setItem('theme', 'light');
    }

    function useDarkTheme() {
        document.documentElement.classList.add('dark');
        themeToggleDarkIcon.classList.add('hidden');
        themeToggleLightIcon.classList.remove('hidden');
        localStorage.setItem('theme', 'dark');
    }

    function toggleTheme() {
        if(prefersDarkTheme()){
            useLightTheme();
        } else {
            useDarkTheme();
        }
    }

    // toggle theme on click
    themeToggleButton.addEventListener('click', function() {
        toggleTheme();
    });

    // set preferred theme (after page loads to update button state)
    if(prefersDarkTheme()){
        useDarkTheme();
    } else {
        useLightTheme();
    }

</script>
</body>
</html>
